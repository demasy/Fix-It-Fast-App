/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojlocaledata","ojs/ojoratimezone","ojs/ojconverterutils-i18n","ojs/ojtimezonedata"],function(e,t,n,o,i){"use strict";const a=o.OraI18nUtils;class s{static getAvailableTimeZones(){return s._availableTimeZonesImpl(t.__getBundle())}static _getBCP47Lang(e){return e.split("-")[0]}static _availableTimeZonesImpl(e){const t=n.OraTimeZone.getInstance(),o={sensitivity:"variant"},i=a.getLocaleElementsMainNodeKey(e),l=a.getLocaleElementsMainNode(e),c=a.getLocaleElementsMainNodeKey(e),r=s._getBCP47Lang(c),m=l.dates.timeZoneNames.metazone,d=l.dates.timeZoneNames.zone,u=[],f={},v=e.supplemental.timeZoneData,g=new Date,p=[g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()];function _(e,t){const n=function(e,t,n,o,i){const a=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(a,n,o,i)}(e,t,!1,!0,!1),o=e.ofset(n),i=e.ofset(n+1);return Math.max(o,i)}function h(e){const t=e.split(" ");let n=t[0].split("-");const o=new Date(n[0],n[1]-1,n[2]);return t.length>1&&(n=t[1].split(":"),o.setHours(n[0]),o.setMinutes(n[1])),o.getTime()}function N(t,n,o,i){const s=t.split("/"),l=s[0],c=s[1];let m,d;const u={offsetLocName:null,locName:null},f=i[l];"en"===r?void 0!==s[1]&&(m=" "+s[1],m=m.replace(/_/g," "),m=m.replace("Saigon","Ho Chi Minh City")):void 0!==f&&(m=f[c],void 0!==m&&(m=m.exemplarCity,void 0!==m&&(m=" "+m)));const v=l+"/"+c,g=e.supplemental.metazones;let _=function(e,t,n){const o=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime(),i=t.split("/"),a=i[0],s=i[1];let l=n[a];if(void 0===l)return null;if(l=l[s],void 0===l)return null;const c=l.length;let r,m;for(var d=0;d<c;d++){const e=l[d].usesMetazone._from,t=l[d].usesMetazone._to,n=l[d].usesMetazone._mzone;if(void 0===e&&void 0===t)return n;if(void 0===e&&void 0!==t&&(m=h(t),o<=m))return n;if(void 0!==e&&void 0===t&&(r=h(e),o>=r))return n;if(void 0!==e&&void 0!==t&&(r=h(e),m=h(t),o>=r&&o<m))return n}}(p,v,g);if(void 0!==o&&(_=o[_]),null!=_&&void 0!==_.long&&(d=_.long.generic,void 0===d&&(d=_.long.standard)),void 0===m)return null;let N="(UTC)";return 0!==n&&(N=a.getTimeStringFromOffset("UTC",n,!0,!0),N=`(${N})`),void 0===d&&(d=""),""!==d&&(d=" - "+d),u.offsetLocName=N+m+d,u.locName=m+d,u}function Z(e,t){return e.find(({displayName:e})=>e.offsetLocName===t.offsetLocName)}function C(n,o){let i,a;const s=Object.keys(n);for(let n=0;n<s.length;n++){let l=s[n];if(-1===l.indexOf("Etc/")&&-1===l.indexOf("Ho_Chi_Minh")){i=t.getZone(l,e),a=_(i,p);const n=N(l,a,m,d);if(null!==n)Z(o,n)||("Asia/Saigon"===l&&(l="Asia/Ho_Chi_Minh"),o.push({id:l,displayName:n}));f[l]=a}}}const M=a.getLocaleElementsMainNodeKey(e);if(void 0!==s._timeZoneDataCache&&void 0!==s._timeZoneDataCache[M]){const e=s._timeZoneDataCache[M].availableTimeZones;if(void 0!==e)return e}C(v.zones,u),C(v.links,u),u.sort(function(e,t){return f[t.id]-f[e.id]+e.displayName.locName.localeCompare(t.displayName.locName,i,o)});const T=u.length;for(let e=0;e<T;e++)u[e].displayName=u[e].displayName.offsetLocName;return void 0!==s._timeZoneDataCache&&void 0===s._timeZoneDataCache[M]&&(s._timeZoneDataCache[M]={availableTimeZones:null},s._timeZoneDataCache[M].availableTimeZones=u),u}}s._timeZoneDataCache={};const l=s.getAvailableTimeZones;e.getAvailableTimeZones=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtimezoneutils.js.map