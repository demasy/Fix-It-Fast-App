/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojvcomponent","preact","ojs/ojdomutils","ojs/ojdatacollection-common"],function(t,e,o,n,i){"use strict";var s=function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};t.ActionCard=class extends o.Component{constructor(t){super(t),this._rootRef=o.createRef(),this._handleOjAction=t=>{this._isFromActiveSource(t)&&t.stopPropagation()},this._handleStart=t=>{this._isFromActiveSource(t)||this.setState({active:!0})},this._handleUpEnd=t=>{var e,o;!this._isFromActiveSource(t)&&this.state.active&&(this.setState({active:!1}),null===(o=(e=this.props).onOjAction)||void 0===o||o.call(e,{originalEvent:t}))},this._handleTouchcancel=t=>{this._isFromActiveSource(t)||this.setState({active:!1})},this._handleMove=t=>{this.state.active&&!this._isFromActiveSource(t)&&this.setState({active:!1})},this._handleKeydown=t=>{this._isFromActiveSource(t)||t.repeat||"Enter"!==t.key&&" "!==t.key||this.setState({active:!0})},this._handleKeyup=t=>{var e,o;this._isFromActiveSource(t)||"Enter"!==t.key&&" "!==t.key||(this.setState({active:!1}),null===(o=(e=this.props).onOjAction)||void 0===o||o.call(e,{originalEvent:t}))},this._handleFocusin=t=>{this.setState({focus:!0})},this._handleFocusout=t=>{this.setState({focus:!1})},this.state={active:!1,focus:!1}}render(t,i){var s;let c="oj-actioncard";i.active&&(c+=" oj-active"),i.focus&&!n.recentPointer()&&(c+=" oj-focus-highlight");const a=null!==(s=t.tabIndex)&&void 0!==s?s:0;return o.h(e.Root,Object.assign({tabIndex:a,class:c,role:"button",onKeyUp:this._handleKeyup,onMouseUp:this._handleUpEnd,onKeyDown:this._handleKeydown,onMouseDown:this._handleStart,onMouseMove:this._handleMove,onTouchStart:this._handleStart,onTouchEnd:this._handleUpEnd,onTouchCancel:this._handleTouchcancel,onTouchMove:this._handleMove,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout},{onojAction:this._handleOjAction},{ref:this._rootRef}),this.props.children)}componentDidMount(){this._rootRef.current.addEventListener("touchstart",this._handleStart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleUpEnd,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchcancel,{passive:!0}),this._rootRef.current.addEventListener("touchmove",this._handleMove,{passive:!0})}_isFromActiveSource(t){return i.isEventClickthroughDisabled(t,this._rootRef.current)}},t.ActionCard.metadata={slots:{"":{}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["tabIndex","role"]}},t.ActionCard=s([e.customElement("oj-action-card")],t.ActionCard),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojactioncard.js.map