{"version":3,"sources":["../debug/ojdataproviderhandler.js"],"names":["define","exports","preact","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","DataProviderHandlerUtils","[object Object]","detail","currentData","dataProvider","this","add","remove","update","keyIndexMap","Map","index","item","entries","set","key","mutatedData","_removeItemsFromDetail","_addItemsFromDetail","_updateItemsFromDetail","itemsToAdd","itemMetadataToAdd","items","returnItems","forEach","_a","addItem","data","metadata","push","indices","addAtIndex","splice","beforeKeys","addIndices","_getIndexByKey","_addItemsAtIndices","addBeforeKeys","afterKeys","indexes","keys","treatedData","treatedMetaData","length","size","fetchResults","_fetchDataByKeys","map","itemContext","_addItemsBeforeKeys","_addItemsAtEnd","fetchedData","results","fetchByKeys","has","get","Object","assign","sort","a","b","indicesToRemove","_removeItemsAtIndices","_removeItemsAtKeys","itemsToUpdate","itemMetadataToUpdate","updateAtIndex","_updateItemsAtIndices","_updateItemsAtKeys","__awaiter$1","__asyncValues","o","Symbol","asyncIterator","TypeError","i","m","call","__values","iterator","verb","n","v","d","settle","DataProviderHandler","addBusyState","callback","_handleMutateEvent","event","_b","resolver","_addBusyState","updatedData","getUpdatedItemsFromMutationDetail","_currentData","_dataProvider","_callback","onDataUpdated","_handleRefreshEvent","_fetchDataAndNotify","addEventListener","undefined","removeEventListener","e_1","asyncIterable","fetchFirst","asyncIterable_1_1","asyncIterable_1","contextArray","e_1_1","error","return","slice","_fetchData","__rest","s","t","p","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","withDataProvider","WrappedComponent","dataProp","Component","props","super","_handleDataUpdate","setState","state","_initDataProviderHandler","previousProps","_resetDataProviderHandler","_releaseDataProviderHandler","passThroughProps","childProps","h","_dataProviderHandler","destroy","displayName","name","getDisplayName","defineProperty"],"mappings":"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"}