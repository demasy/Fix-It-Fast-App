/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojdvt-toolkit","ojs/ojdvt-axis"],function(t,e,a){"use strict";var i=function(){};e.Obj.createSubclass(i,e.BaseComponentDefaults),i.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,min:0,max:100,center:{},color:"#393737",borderColor:null,visualEffects:"auto",emptyText:null,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:500,readOnly:"true",metricLabel:{rendered:"auto",scaling:"auto",style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),textType:"number"},_statusMessageStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),label:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},_thresholdColors:["#ed6647","#fad55c","#68c182"],__layout:{outerGap:1,labelGap:5}},i.prototype.Init=function(t){var a={alta:e.JsonUtils.merge(t.alta,i.SKIN_ALTA)};i.superclass.Init.call(this,a)},i.prototype.getAnimationDuration=function(t){return t.animationDuration};var n=function(t){this.Init({alta:n.SKIN_ALTA},t)};e.Obj.createSubclass(n,i),n.SKIN_ALTA={background:{startAngle:180,angleExtent:180,indicatorLength:.7},metricLabel:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA)},tickLabel:{scaling:"auto",style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA)}};var s=function(t){this.Init(t)};e.Obj.createSubclass(s,e.Container),s.prototype.setAngle=function(t){var a=new e.Matrix;this.setMatrix(a.rotate(t)),this._angleRads=t},s.prototype.getAnimationParams=function(){return[this._angleRads]},s.prototype.setAnimationParams=function(t){t&&1==t.length&&this.setAngle(t[0])};var r=new Object;e.Obj.createSubclass(r,e.Obj),r.hasData=function(t){var e=t.getOptions();return e&&null!=e.value&&r.hasValidData(t)},r.hasValidData=function(t){var e=t.getOptions();return Number(e.min)<Number(e.max)},r.getValueThresholdIndex=function(t,e){var a=t.getOptions(),i=null!=e?e:a.value,n=a.thresholds;if(!n)return-1;for(var s=0;s<n.length;s++)if(i<=n[s].max)return s;return n.length-1},r.getThreshold=function(t,e){var a=t.getOptions().thresholds;return a&&e>=0&&e<a.length?a[e]:null},r.getReferenceObject=function(t,e){var a=t.getOptions().referenceLines;return a&&e>=0&&e<a.length?a[e]:null};const o=function(t){return!!t.label.text};var l=new Object;e.Obj.createSubclass(l,e.Obj),l.renderEmptyText=function(t,a,i){var n=t.getOptions(),s=n.translations,o=n.emptyText;o||(o=s.labelNoData),r.hasValidData(t)||(o=s.labelInvalidData);var l=n._statusMessageStyle;if(l.getStyle("font-size")||l.setStyle("font-size","13px"),"statusMeter"===t.getGaugeType()){var h=l.getStyle("color");h=h||"#333333",l.setStyle("color",h)}t.renderEmptyText(a,o,new e.Rectangle(i.x,i.y,i.w,i.h),t.getEventManager(),l)},l.getFormattedMetricLabel=function(t,e){var a=e.getOptions();if(a.metricLabel.text)return a.metricLabel.text;var i=a.metricLabel.converter,n=a.metricLabel.scaling,s=a.metricLabel.autoPrecision?a.metricLabel.autoPrecision:"on",r="percent"==a.metricLabel.textType;return l._formatMetricLabelValue(t,e,i,n,s,r)},l.formatTickLabelValue=function(t,e){var a=e.getOptions(),i=null,n="percent"==a.tickLabel.textType;"on"==a.tickLabel.rendered&&a.tickLabel.converter&&(i=a.tickLabel.converter);var s=null;"on"==a.tickLabel.rendered&&a.tickLabel.scaling&&(s=a.tickLabel.scaling);var r=a.tickLabel.autoPrecision?a.tickLabel.autoPrecision:"on";return l._formatMetricLabelValue(t,e,i,s,r,n)},l._formatMetricLabelValue=function(t,e,i,n,s,r){var o,h=e.getOptions(),c=h.min,g=h.max,u=g-c,d=u<1e3?100:1e3,p=null;isNaN(u)||(p=u/d),r&&(t=l.getFillPercentage(h,h.min,h.max,t,!0));var _=new a.LinearScaleAxisValueFormatter(c,g,p,n,s,h.translations);if(i&&i.format)o=_.format(t,i);else if(r){var v=e.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:0,minimumFractionDigits:0});o=v&&v.format?v.format(t):String(Math.round(100*t))+"%"}else o=_.format(t);return o},l.getFillPercentage=function(t,e,a,i,n){var s=(i-e)/(t.max-t.min);return s=n?s:Math.min(Math.max(0,s),1)},l.getTooltipString=function(t){var a=t.getOptions(),i=r.getValueThresholdIndex(t),n=r.getThreshold(t,i),s=l.getFormattedMetricLabel(a.value,t);return n&&null!=n.shortDesc?n.shortDesc:null!=a.shortDesc?a.shortDesc:a.label.text?e.ResourceUtils.format(a.translations.labelAndValue,[a.label.text,s]):s},l.renderMetricLabel=function(t,a,i,n,s,r,o){var h=t.getOptions(),c=!1;if("on"==h.metricLabel.rendered||o&&"off"!=h.metricLabel.rendered){var g=l.getFormattedMetricLabel(h.value,t),u=l.getFormattedMetricLabel(h.min,t),d=l.getFormattedMetricLabel(h.max,t),p=new e.OutputText(t.getCtx(),g,i.x+i.w/2,i.y+i.h/2);p.setCSSStyle(h.metricLabel.style);var _=h.metricLabel.style.getStyle("font-size");_||(_=l.calcLabelFontSize([g,u,d],p,i),p.setTextString(g),p.setFontSize(_)),"top"==r?(p.setY(i.y),p.alignTop()):"middle"==r?e.TextUtils.centerTextVertically(p,i.y+i.h/2):"bottom"==r&&(p.setY(i.y+i.h),p.alignBottom()),"center"==s?p.alignCenter():"left"==s?(p.setX(i.x),p.alignLeft()):"right"==s&&(p.setX(i.x+i.w),p.alignRight()),null!=n&&p.setSolidFill(n),c=e.TextUtils.fitText(p,i.w,i.h,a)}return c},l.renderLabel=function(t,a,i,n,s){var r=t.getOptions(),l=!1;if(o(r)){var h=r.label.text,c=r.label.style,g=new e.MultilineText(t.getCtx(),h),u=c.clone();g.setCSSStyle(c);var d=c.getStyle("font-size")||e.TextUtils.getOptimalFontSize(g.getCtx(),g.getTextString(),g.getCSSStyle(),i);u.setFontSize("font-size",d,t.getCtx()),null!=n&&u.setStyle("color",n),g.setCSSStyle(u),l=e.TextUtils.fitText(g,i.w,i.h,t);var p=g.getDimensions().h;"top"==s?g.setY(i.y):"bottom"==s?g.setY(i.y+i.h-p):g.setY(i.y+i.h/2-p/2),g.setX(i.x+i.w/2),g.alignCenter(),a.addChild(g)}return l},l.calcLabelFontSize=function(t,a,i){for(var n=0,s=null,r=0,o=0;o<t.length;o++)a.setTextString(t[o]),(r=a.getDimensions().w)>n&&(s=t[o],n=r);return a.setTextString(s),e.TextUtils.getOptimalFontSize(a.getCtx(),a.getTextString(),a.getCSSStyle(),i)},l.adjustForStep=function(t,e){var a=Number(t.step);if(a&&a>0){var i=e/a;if(i<.5)return t.min;var n=Math.ceil(i)*a;return Math.max(Math.min(t.max,n),t.min)}return e};var h=new Object;e.Obj.createSubclass(h,e.Obj),h.render=function(t,a,i,n){if(r.hasData(t)){var s=new e.Rectangle(0,0,i,n);h._renderShape(t,a,s),h._renderLabel(t,a,s)}else l.renderEmptyText(t,a,new e.Rectangle(0,0,i,n))},h.updateIndicatorAndLabel=function(t,a,i,n){t.__indicatorContainer.setAngle(h._getRotation(t,t.getOptions().value)),a.removeChild(t.__label),h._renderLabel(t,a,new e.Rectangle(0,0,i,n))},h._renderShape=function(t,a,i){var n=t.getOptions(),r=h._createBackground(t,i);a.addChild(r),n.background.majorTickCount&&n.background.radius&&h._renderTickLabels(t,a,i);var o=h._createIndicator(t,i),l=new e.Container(t.getCtx()),c=new s(t.getCtx());a.addChild(l),l.addChild(c),c.addChild(o);var g=o.getDimensions(),u=h._getRotation(t,n.value),d=h._getBackgroundAnchorPoint(t,i),p=h._getIndicatorAnchorPoint(t,i,g),_=h._getIndicatorScaleFactor(t,i,g),v=new e.Matrix;v=v.translate(-p.x,-p.y),o.setMatrix(v.scale(_,_)),c.setAngle(u),v=new e.Matrix,l.setMatrix(v.translate(d.x,d.y)),t.__shapes.push(c),t.__indicatorContainer=c,t.__anchorPt=d},h._createBackground=function(t,a){var i=t.getOptions().background,n=e.Agent.isRightToLeft(t.getCtx()),s=e.Agent.isTouchDevice(),r=s?2*a.w:a.w,o=s?2*a.h:a.h,l=i.images;if(l&&l.length>0){var h,c,g,u=[];for(h=0;h<l.length;h++){var d="rtl"==l[h].dir;n&&d?u.push(l[h]):n||d||u.push(l[h])}for(l=u.length>0?u:l,h=0;h<l.length;h++){var p=l[h],_=p.src,v=p.width,m=p.height,y=_&&_.search(".svg")>-1;if(0==h&&(c=v,g=m),y||v>=r&&m>=o||h==l.length-1){var b=new e.Image(t.getCtx(),_,0,0,v,m),f=new e.Matrix,C=Math.min(a.w/v,a.h/m),x=(a.w-C*v)/2,A=(a.h-C*m)/2;if(f=f.scale(C,C),b.setMatrix(f.translate(x,A)),y&&("safari"===e.Agent.browser||"blink"===e.Agent.engine)){var S=e.ImageLoader.loadImage(_,b.__setDimensions.bind(b));S&&b.__setDimensions(S)}if(a.x+=x,a.y+=A,a.w=C*v,a.h=C*m,isNaN(i.anchorX)||isNaN(i.anchorY)||(i._anchorX=n?a.x+a.w-a.w*i.anchorX/c:a.x+a.w*i.anchorX/c,i._anchorY=a.y+a.h*i.anchorY/g),i.metricLabelBounds){var w={};w.width=a.w*i.metricLabelBounds.width/c,w.height=a.h*i.metricLabelBounds.height/g,w.y=a.y+a.h*i.metricLabelBounds.y/g,w.x=n?a.x+a.w-a.w*i.metricLabelBounds.x/c-w.width:a.x+a.w*i.metricLabelBounds.x/c,i._metricLabelBounds=w}var O=Math.min(a.w/c,a.h/g);return i._radius=i.radius*O,i._tickLabelHeight=i.tickLabelHeight*a.h/g,i._tickLabelWidth=i.tickLabelWidth*a.w/c,b}}}return null},h._createIndicator=function(t,a){var i,n,s=t.getOptions().indicator,r=h._getIndicatorLength(t,a),o=e.Agent.isTouchDevice()?2*r:r,l=s.images;if(l&&l.length>0)for(var c=0;c<l.length;c++){var g=l[c],u=g.src,d=g.width,p=g.height,_=u&&u.search(".svg")>-1;if(0==c&&(i=d,n=p),_||p>=o||c==l.length-1){var v=new e.Image(t.getCtx(),u,0,0,d,p);if(_&&("safari"===e.Agent.browser||"blink"===e.Agent.engine))e.ImageLoader.loadImage(u,v.__setDimensions.bind(v))&&(v.setWidth(d),v.setHeight(p));return isNaN(s.anchorX)||isNaN(s.anchorY)||(s._anchorX=s.anchorX*d/i,s._anchorY=s.anchorY*p/n),v}}return null},h.__getStartAngle=function(t){var a=t.getOptions().background,i=e.Agent.isRightToLeft(t.getCtx())?180-a.startAngle:a.startAngle;return Math.PI*(90-i)/180},h._getRotation=function(t,a){var i=t.getOptions(),n=i.background,s=i.min,r=i.max,o=((a=Math.max(Math.min(a,r),s))-s)/(r-s),l=e.Agent.isRightToLeft(t.getCtx()),h=(l?180-n.startAngle:n.startAngle)-o*(l?-n.angleExtent:n.angleExtent);return Math.PI*(90-h)/180},h._getBackgroundAnchorPoint=function(t,a){var i=t.getOptions().background,n=i._anchorX,s=i._anchorY;return isNaN(n)||isNaN(s)?new e.Point(a.x+a.w/2,a.y+a.h/2):new e.Point(n,s)},h._getIndicatorLength=function(t,e){var a=Math.min(e.w,e.h)/2;return t.getOptions().background.indicatorLength*a},h._getIndicatorAnchorPoint=function(t,a,i){var n=t.getOptions().indicator,s=n._anchorX,r=n._anchorY;return isNaN(s)||isNaN(r)?new e.Point(i.x+i.w/2,i.y+i.h):new e.Point(s,r)},h._getIndicatorScaleFactor=function(t,e,a){return h._getIndicatorLength(t,e)/a.h},h._renderLabel=function(t,a,i){var n=t.getOptions();if("on"==n.metricLabel.rendered){var s=l.getFormattedMetricLabel(n.value,t),r=l.getFormattedMetricLabel(n.min,t),o=l.getFormattedMetricLabel(n.max,t),h=i.x+i.w/2,c=i.y+i.h/2,g=i.w,u=i.h,d=n.background._metricLabelBounds;d&&(h=d.x+d.width/2,c=d.y+d.height/2,i.w=d.width,i.h=d.height);var p=new e.OutputText(t.getCtx(),s,h,c);!n.metricLabel.style.getStyle("color")&&n.background._isDark&&n.metricLabel.style.setStyle("color","#CCCCCC"),p.setCSSStyle(n.metricLabel.style);var _=n.metricLabel.style.getFontSize();_||(_=l.calcLabelFontSize([s,r,o],p,i),p.setTextString(s),p.setFontSize(_)),p.alignCenter(),p.alignMiddle(),e.TextUtils.fitText(p,g,u,a)&&(t.__label=p)}},h._renderTickLabels=function(t,a,i){var n=t.getOptions(),s=e.Agent.isRightToLeft(t.getCtx());if(n.background.radius&&n.background.majorTickCount){var r=n.background._radius,o=n.min,c=n.max,g=n.background.majorTickCount,u=12,d=new e.Rectangle(C,x,i.w,i.h),p=n.metricLabel.style.getStyle("font-size");if(n.background._tickLabelHeight&&!p&&(d.h=n.background._tickLabelHeight),n.background._tickLabelWidth&&!p&&(d.w=n.background._tickLabelWidth),!p){var _=new e.OutputText(t.getCtx(),"",C,x);u=l.calcLabelFontSize([l.formatTickLabelValue(n.max,t),l.formatTickLabelValue(n.min,t)],_,d)}for(var v=0;v<g;v++){var m=o+Math.abs(c-o)*v/(g-1);s&&(m=o+Math.abs(c-o)*(g-1-v)/(g-1));var y=l.formatTickLabelValue(m,t),b=h._getRotation(t,m),f=h._getBackgroundAnchorPoint(t,i),C=f.x+r*Math.cos(b-Math.PI/2),x=f.y+r*Math.sin(b-Math.PI/2);_=new e.OutputText(t.getCtx(),y,C,x);!n.tickLabel.style.getStyle("color")&&n.background._isDark&&n.tickLabel.style.setStyle("color","#CCCCCC"),_.setCSSStyle(n.tickLabel.style),n.tickLabel.style.getStyle("font-size")||_.setFontSize(u),_.alignCenter(),_.alignMiddle(),e.TextUtils.fitText(_,d.w+.5,d.h+.5,a)}}};var c=function(t){this._gauge=t};e.Obj.createSubclass(c,e.Automation),c.prototype.getDomElementForSubId=function(t){if(t==e.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._gauge);if(0==t.indexOf("item")){var a=t.indexOf("["),i=t.indexOf("]");if(a>0&&i>0){var n=t.substring(a+1,i),s=this._gauge.__getRatingGaugeItem(n);if(s)return s.getElem()}}return null},c.prototype.GetSubIdForDomElement=function(t){for(var e=this._gauge.getOptions(),a=0;a<e.max;a++){if(this._gauge.__getRatingGaugeItem(a)==t)return"item["+a+"]"}return null},c.prototype.getValue=function(){return this._gauge.getOptions().value},c.prototype.getMetricLabel=function(){return l.getFormattedMetricLabel(this.getValue(),this._gauge)};var g=function(t){this.Init(t.getCtx(),t.dispatchEvent,t,t),this._gauge=t,this.IsMouseEditing=!1};e.Obj.createSubclass(g,e.EventManager),g.prototype.OnMouseDown=function(t){if(this._gauge.IsInteractive()){this.IsMouseEditing=!0,this.hideTooltip();var e=this.GetRelativePosition(t.pageX,t.pageY);this._gauge.__processValueChangeStart(e.x,e.y),t.preventDefault()}else g.superclass.OnMouseDown.call(this,t)},g.prototype.OnMouseUp=function(t){this.IsMouseEditing?this.StopMouseEditing(t):g.superclass.OnMouseUp.call(this,t)},g.prototype.OnMouseMove=function(t){if(this.IsMouseEditing){var e=this.GetRelativePosition(t.pageX,t.pageY);this._gauge.__processValueChangeMove(e.x,e.y)}!this.IsShowingTooltipWhileEditing()&&this.IsMouseEditing||g.superclass.OnMouseMove.call(this,t)},g.prototype.IsShowingTooltipWhileEditing=function(){return!1},g.prototype.PreEventBubble=function(t){if(e.TouchEvent.TOUCHSTART===t.type&&this._gauge.IsInteractive()){this.IsMouseEditing=!0;var a=this.GetRelativePosition(t.touches[0].pageX,t.touches[0].pageY);this._gauge.__processValueChangeStart(a.x,a.y),t.preventDefault()}else if(e.TouchEvent.TOUCHMOVE===t.type&&this.IsMouseEditing){a=this.GetRelativePosition(t.touches[0].pageX,t.touches[0].pageY);this._gauge.__processValueChangeMove(a.x,a.y),t.preventDefault()}else if(e.TouchEvent.TOUCHEND===t.type&&this.IsMouseEditing){this.IsMouseEditing=!1;a=this.GetRelativePosition(t.changedTouches[0].pageX,t.changedTouches[0].pageY);this._gauge.__processValueChangeEnd(a.x,a.y),t.preventDefault()}this.IsMouseEditing&&!this.IsShowingTooltipWhileEditing()||g.superclass.PreEventBubble.call(this,t)},g.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;this.KeyboardHandler.processKeyDown(t);var a=t.keyCode;if(a==e.KeyboardEvent.UP_ARROW||a==e.KeyboardEvent.LEFT_ARROW||a==e.KeyboardEvent.DOWN_ARROW||a==e.KeyboardEvent.RIGHT_ARROW||a==e.KeyboardEvent.TAB){var i=this._gauge.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(t,i.x,i.y,this._gauge.__getLogicalObject(),this._gauge)}return!1},g.prototype.OnBlur=function(t){g.superclass.OnBlur.call(this,t),this.hideTooltip()},g.prototype.GetRelativePosition=function(t,e){var a=this.getCtx().pageToStageCoords(t,e);return this._gauge.stageToLocal(a)},g.prototype.UpdateActiveElement=function(t,e){},g.prototype.__isMouseEditing=function(){return this.IsMouseEditing},g.prototype.StopMouseEditing=function(t){this.IsMouseEditing=!1;var e=this.GetRelativePosition(t.pageX,t.pageY);this._gauge.__processValueChangeEnd(e.x,e.y)};var u=function(t,e){this.Init(t,e)};e.Obj.createSubclass(u,e.KeyboardHandler),u.prototype.Init=function(t,e){u.superclass.Init.call(this,t),this._gauge=e},u.prototype.processKeyDown=function(t){var a=t.keyCode,i=e.Agent.isRightToLeft(this._gauge.getCtx()),n=this._gauge.getOptions().value;this._gauge.getOptions().readOnly||(a!=e.KeyboardEvent.ENTER&&a!=e.KeyboardEvent.TAB||this._oldValue==n?a==e.KeyboardEvent.UP_ARROW||a==(i?e.KeyboardEvent.LEFT_ARROW:e.KeyboardEvent.RIGHT_ARROW)?(this._gauge.__increaseValue(),e.EventManager.consumeEvent(t)):a!=e.KeyboardEvent.DOWN_ARROW&&a!=(i?e.KeyboardEvent.RIGHT_ARROW:e.KeyboardEvent.LEFT_ARROW)||(this._gauge.__decreaseValue(),e.EventManager.consumeEvent(t)):(this._gauge.dispatchEvent(e.EventFactory.newValueChangeEvent(this._oldValue,n,!0)),this._oldValue=void 0),void 0===this._oldValue&&(this._oldValue=n))};var d=new Object;e.Obj.createSubclass(d,e.Obj),d._THRESHOLD_COLOR_RAMP=["#ed6647","#fad55c","#68c182"],d._ALTA_CIRCLE={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:80,y:86,width:40,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6},d._ALTA_DOME={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:83,y:86,width:34,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6},d._ALTA_RECTANGLE={startAngle:202.5,angleExtent:225,anchorX:100,anchorY:103,metricLabelBounds:{x:83,y:86,width:34,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6},d._ANTIQUE_CIRCLE={startAngle:220.5,angleExtent:261.1,anchorX:100,anchorY:100,metricLabelBounds:{x:82,y:133,width:36,height:34},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:61,majorTickCount:6},d._ANTIQUE_DOME={startAngle:195.5,angleExtent:210.8,anchorX:100,anchorY:100,metricLabelBounds:{x:84,y:135,width:32,height:35},indicatorLength:.98,tickLabelHeight:20,tickLabelWidth:30,radius:63,majorTickCount:6},d._ANTIQUE_RECTANGLE={startAngle:207.6,angleExtent:235,anchorX:100,anchorY:95.8,metricLabelBounds:{x:83,y:125,width:34,height:40},indicatorLength:1.05,tickLabelHeight:20,tickLabelWidth:30,radius:64,majorTickCount:6},d._LIGHT_CIRCLE={startAngle:220.5,angleExtent:261.1,anchorX:100,anchorY:100,metricLabelBounds:{x:80,y:82,width:40,height:40},indicatorLength:.82,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6},d._LIGHT_DOME={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:89,metricLabelBounds:{x:80,y:70,width:41,height:39},indicatorLength:1.23,tickLabelHeight:20,tickLabelWidth:30,radius:56,majorTickCount:6},d._LIGHT_RECTANGLE={startAngle:211,angleExtent:242,anchorX:100,anchorY:91.445,metricLabelBounds:{x:78,y:75,width:44,height:38},indicatorLength:1.1,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6},d._DARK_CIRCLE={startAngle:220.5,angleExtent:261.5,metricLabelBounds:{x:80,y:82,width:40,height:40},indicatorLength:.85,tickLabelHeight:20,tickLabelWidth:30,radius:60,majorTickCount:6},d._DARK_DOME={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:89,metricLabelBounds:{x:80,y:73,width:40,height:36},indicatorLength:1.23,tickLabelHeight:20,tickLabelWidth:30,radius:56,majorTickCount:6},d._DARK_RECTANGLE={startAngle:201,angleExtent:222,anchorX:100.2,anchorY:99.5,metricLabelBounds:{x:80,y:83,width:41,height:36},indicatorLength:1.1,tickLabelHeight:20,tickLabelWidth:30,radius:58,majorTickCount:6},d._ANTIQUE_INDICATOR={anchorX:42,anchorY:510},d._ALTA_INDICATOR={anchorX:187,anchorY:388},d._LIGHT_INDICATOR={anchorX:227,anchorY:425},d._DARK_INDICATOR={anchorX:227,anchorY:425},d.getColor=function(t){var e=t.getOptions(),a=r.getValueThresholdIndex(t),i=r.getThreshold(t,a);return i&&("statusMeter"!==t.getGaugeType()||"statusMeter"===t.getGaugeType()&&"onIndicator"==e.thresholdDisplay)?d.getThresholdColor(t,i,a):e.color},d.getBorderColor=function(t){var e=t.getOptions(),a=r.getValueThresholdIndex(t),i=r.getThreshold(t,a);return i&&i.borderColor&&("statusMeter"!==t.getGaugeType()||"statusMeter"===t.getGaugeType()&&"onIndicator"==e.thresholdDisplay)?i.borderColor:e.borderColor},d.getPlotAreaColor=function(t){var e=t.getOptions(),a=r.getValueThresholdIndex(t),i=r.getThreshold(t,a);return i&&("statusMeter"!==t.getGaugeType()||"statusMeter"===t.getGaugeType()&&"onIndicator"!=e.thresholdDisplay)?d.getThresholdColor(t,i,a):e.plotArea.color},d.getPlotAreaBorderColor=function(t){var e=t.getOptions(),a=e.plotArea.borderColor;return"statusMeter"===t.getGaugeType()&&"circular"!=e.orientation&&null==a?"#D6DFE6":a},d.getThresholdColor=function(t,e,a){if(e.color)return e.color;var i=t.getOptions(),n=a%i._thresholdColors.length;return i._thresholdColors[n]},d.getDialBackground=function(t){return"rectangleAlta"===t?d._ALTA_RECTANGLE:"domeAlta"===t?d._ALTA_DOME:"circleAntique"===t?d._ANTIQUE_CIRCLE:"rectangleAntique"===t?d._ANTIQUE_RECTANGLE:"domeAntique"===t?d._ANTIQUE_DOME:"circleLight"===t?d._LIGHT_CIRCLE:"rectangleLight"===t?d._LIGHT_RECTANGLE:"domeLight"===t?d._LIGHT_DOME:"circleDark"===t?d._DARK_CIRCLE:"rectangleDark"===t?d._DARK_RECTANGLE:"domeDark"===t?d._DARK_DOME:d._ALTA_CIRCLE},d.getDialIndicator=function(t){return"needleAntique"===t?d._ANTIQUE_INDICATOR:"needleLight"===t?d._LIGHT_INDICATOR:"needleDark"===t?d._DARK_INDICATOR:d._ALTA_INDICATOR};var p=function(){};e.Obj.createSubclass(p,e.BaseComponent),p._DEFAULT_MIN_VALUE=0,p._DEFAULT_MAX_VALUE=100,p.prototype.Init=function(t,a,i,n){p.superclass.Init.call(this,t,a,i),t.getStage().setCursor(""),this._bStaticRendering=n,this._bStaticRendering||(this.EventManager=this.CreateEventManager(),this.EventManager.addListeners(this),e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("gauge1000"+Math.floor(1e9*Math.random())),this._editingOverlay=new e.Rect(t,0,0),this._editingOverlay.setInvisibleFill(),this.addChild(this._editingOverlay)),this._bEditing=!1,this._bResizeRender=!1,this._oldValue=null},p.prototype.SetOptions=function(t){this.Options=t,e.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none"),"ie"!==e.Agent.browser&&"edge"!==e.Agent.browser||"auto"!=this.Options.visualEffects||(this.Options.visualEffects="none"),t.className&&(this.Options.svgClassName=t.className),t.style&&(this.Options.svgStyle=t.style)},p.prototype.render=function(t,a,i){if(t?this.SetOptions(t):this.Options||this.SetOptions(null),this.Options.thresholds){var n=this.Options.thresholds;this.Options.thresholds=n.sort(p._thresholdComparator)}"number"==typeof a&&"number"==typeof i&&(0!=this.Width&&this.Width!=a||0!=this.Height&&this.Height!=i?this._bResizeRender=!0:this._bResizeRender=!1,this.Width=a,this.Height=i),this.__oldShapes=this.__shapes,this.__shapes=[];var s=new e.Container(this.getCtx());this.addChildAt(s,0),0!=this.Render(s,this.Width,this.Height)&&this.PostRender(t,s)},p.prototype.getGaugeType=function(){return null},p.prototype.PostRender=function(t,a){if(this._setAnimation(a,null!=t,this.__oldShapes,this.Width,this.Height),this._editingOverlay&&(this._editingOverlay.setWidth(this.Width),this._editingOverlay.setHeight(this.Height),this.getEventManager().associate(this._editingOverlay,this.__getLogicalObject(),!0)),this.UpdateAriaAttributes(),!this._bStaticRendering&&!this.Options.readOnly){a.setAriaRole("slider"),a.setAriaProperty("valuemin",this.Options.min),a.setAriaProperty("valuemax",this.Options.max);var i=l.getFormattedMetricLabel(this.Options.value,this);a.setAriaProperty("valuenow",i);var n=l.getTooltipString(this);e.Agent.isTouchDevice()&&(this._container.setAriaProperty("live","assertive"),i!=n&&(n=i+e.AriaUtils.ARIA_LABEL_DESC_DELIMITER+n)),i!=n&&a.setAriaProperty("label",n),this._renderCount=null!=this._renderCount?this._renderCount+1:0;var s=this.getId()+"_"+this._renderCount;a.setId(s),this.getCtx().setActiveElement(a)}this.Options._selectingCursor&&this.setCursor(e.SelectionEffectUtils.getSelectingCursor()),this.Animation||this.RenderComplete()},p.prototype.__getLogicalObject=function(){var t=this.Options.tooltip,a=t?t.renderer:null,i=d.getColor(this);if(a){var n={component:this.Options._widgetConstructor,label:l.getFormattedMetricLabel(this.Options.value,this),color:i};return new e.CustomDatatipPeer(this.getCtx().getTooltipManager(),a,i,n)}var s=l.getTooltipString(this);return new e.SimpleObjPeer(null,s,i)},p.prototype.Render=function(t,e,a){},p.prototype._setAnimation=function(t,a,i,n,s){this.StopAnimation();var r=!1,o=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDataChange,l=this._bEditing||this._bResizeRender?"none":this.getOptions().animationOnDisplay,h=e.CSSStyle.getTimeMilliseconds(this.getOptions().animationDuration)/1e3;if(l||o){var c=new e.Rectangle(0,0,n,s),g=this.getCtx();this._container||"none"===l||null==this.__shapes[0]?this._container&&"none"!=o&&a&&null!=this.__shapes[0]&&(this.Animation=e.BlackBoxAnimationHandler.getCombinedAnimation(g,o,this._container,t,c,h),this.Animation?r=!0:this.Animation=this.CreateAnimationOnDataChange(i,this.__shapes,l,h)):(this.Animation=e.BlackBoxAnimationHandler.getInAnimation(g,l,t,c,h),this.Animation||(this.Animation=this.CreateAnimationOnDisplay(this.__shapes,l,h))),!r&&this._container&&(this.removeChild(this._container),this._container.destroy()),this.Animation&&(this.Animation.play(),this.Animation.setOnEnd(this._onAnimationEnd,this)),r&&(this._oldContainer=this._container),this._container=t}},p.prototype.CreateAnimationOnDisplay=function(t,e,a){return null},p.prototype.CreateAnimationOnDataChange=function(t,a,i,n){for(var s=[],r=0;r<t.length;r++){var o=t[r],l=a[r],h=o.getAnimationParams(),c=l.getAnimationParams();l.setAnimationParams(h);var g=new e.CustomAnimation(this.getCtx(),l,n);g.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,l,l.getAnimationParams,l.setAnimationParams,c),s.push(g)}return new e.ParallelPlayable(this.getCtx(),s)},p.prototype.GetValueAt=function(t,e){return null},p.prototype.renderUpdate=function(){this.render(),this.UpdateAriaLiveValue(this._container)},p.prototype.UpdateAriaLiveValue=function(t,a){a=l.getFormattedMetricLabel(a||this.Options.value,this),t.setAriaProperty("valuenow",a),e.Agent.isTouchDevice()&&t.setAriaProperty("label",a)},p.prototype._onAnimationEnd=function(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer.destroy(),this._oldContainer=null),this.AnimationStopped||this.RenderComplete(),this.Animation=null,this.AnimationStopped=!1},p.prototype.__processValueChangeStart=function(t,e){this._bEditing=!0,this._oldValue=this.Options.value,this.__processValueChangeMove(t,e)},p.prototype.__processValueChangeMove=function(t,a){if(null!=this._oldValue){var i=l.adjustForStep(this.Options,this.GetValueAt(t,a));i!=this.Options.value&&(this.Options.value=i,this.renderUpdate(),this.dispatchEvent(e.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!1)))}},p.prototype.__processValueChangeEnd=function(t,a){if(this.__processValueChangeMove(t,a),e.Agent.isTouchDevice()){var i=l.getFormattedMetricLabel(this.Options.value,this),n=l.getTooltipString(this);i!=n&&(n=i+e.AriaUtils.ARIA_LABEL_DESC_DELIMITER+n,this._container.setAriaProperty("label",n))}this.dispatchEvent(e.EventFactory.newValueChangeEvent(this._oldValue,this.Options.value,!0)),this._bEditing=!1,this._oldValue=null},p.prototype.__increaseValue=function(){if(!this.Options.readOnly){var t=this.Options.value;if(null!=this.Options.step){var a=this.Options.value+this.Options.step;this.Options.value=l.adjustForStep(this.Options,a)}else{var i=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value+i,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(e.EventFactory.newValueChangeEvent(t,this.Options.value,!1))}},p.prototype.__decreaseValue=function(){if(!this.Options.readOnly){var t=this.Options.value;if(null!=this.Options.step){var a=this.Options.value-this.Options.step;this.Options.value=l.adjustForStep(this.Options,a)}else{var i=(this.Options.max-this.Options.min)/100;this.Options.value=Math.min(Math.max(this.Options.value-i,this.Options.min),this.Options.max)}this.renderUpdate(),this.dispatchEvent(e.EventFactory.newValueChangeEvent(t,this.Options.value,!1))}},p.prototype.CreateEventManager=function(){return new g(this)},p._thresholdComparator=function(t,e){return null!=t.max&&null!=e.max?t.max-e.max:t.max?-1/0:1/0},p.prototype.getAutomation=function(){return new c(this)},p.prototype.CreateKeyboardHandler=function(t){return new u(t,this)},p.prototype.UpdateAriaAttributes=function(){if(!this._bStaticRendering){var t=l.getTooltipString(this);if(this.IsParentRoot()){var a=this.Options.translations;this.IsInteractive()?(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(e.ResourceUtils.format(a.labelAndValue,[a.labelDataVisualization,e.AriaUtils.processAriaLabel(this.GetComponentDescription())]))):(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(e.ResourceUtils.format(a.labelAndValue,[a.labelDataVisualization,e.Displayable.generateAriaLabel(e.AriaUtils.processAriaLabel(this.GetComponentDescription()),t?[t]:null)])))}else this.IsInteractive()||(this.setAriaRole("img"),this.setAriaProperty("label",e.Displayable.generateAriaLabel(e.AriaUtils.processAriaLabel(this.GetComponentDescription()),t?[t]:null)))}},p.prototype.IsInteractive=function(){return!this.Options.readOnly};const _=function(){};e.Obj.createSubclass(_,p),_.newInstance=function(t,e,a){var i=new _;return i.Init(t,e,a),i},_.prototype.Init=function(t,e,a){_.superclass.Init.call(this,t,e,a),this.Defaults=new n(t),this.__anchorPt=null},_.prototype.SetOptions=function(t){var a=(t=e.JsonUtils.clone(t)).background,i=t.indicator;"string"==typeof a&&(t.background=d.getDialBackground(a),t.background.images=t._backgroundImages),"string"==typeof i&&(t.indicator=d.getDialIndicator(i),t.indicator.images=t._indicatorImages),_.superclass.SetOptions.call(this,this.Defaults.calcOptions(t))},_.prototype.Render=function(t,e,a){h.render(this,t,e,a)},_.prototype.getGaugeType=function(){return"dial"},_.prototype.renderUpdate=function(){h.updateIndicatorAndLabel(this,this._container,this.Width,this.Height);var t=this.getEventManager();t&&t.associate(this._editingOverlay,this.__getLogicalObject(),!0),this.UpdateAriaLiveValue(this._container)},_.prototype.CreateAnimationOnDisplay=function(t,a,i){for(var n=[],s=0;s<t.length;s++){var r=t[s],o=r.getAnimationParams(),l=h.__getStartAngle(this);r.setAngle(l);var c=new e.CustomAnimation(this.getCtx(),r,i);c.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,o),c.getAnimator().setEasing(function(t){return e.Easing.backOut(t,.7)}),n.push(c)}return new e.ParallelPlayable(this.getCtx(),n)},_.prototype.GetValueAt=function(t,a){var i=Math.atan2(a-this.__anchorPt.y,t-this.__anchorPt.x),n=e.Math.radsToDegrees(i);n<=0&&(n+=360);var s=e.Agent.isRightToLeft(this.getCtx()),r=this.getOptions().background,o=s?180+r.startAngle:360-r.startAngle,l=r.angleExtent,h=o+l;if(s)for(h=o,o-=l;o<0;)o+=360,h+=360;n+360>=o&&n+360<=h?n+=360:n>=o&&n<=h||(n=n>h?o+360-n<n-h?o:h:o-n<n+360-h?o:h);var c=(n-o)/l;s&&(c=1-c);var g=this.Options.min;return c*(this.Options.max-g)+g};var v=function(t){this.Init({alta:v.SKIN_ALTA},t)};e.Obj.createSubclass(v,i),v.SKIN_ALTA={type:"circle"};var m=new Object;e.Obj.createSubclass(m,e.Obj),m._SHAPE_TRIANGLE_CMDS=[-50,36.6,0,-50,50,36.6],m._SHAPE_STAR_CMDS="M -2.3323410040000025 -46.8254465126 L -12.701751285999997 -15.545956187999998 C -12.943326088000003 -14.817199866000001 -13.891253726000002 -14.094892532000003 -14.646583826 -14.078635606000002 L -46.2211570996 -13.404525749999996 C -49.12828379242 -13.341995967999997 -49.998273374 -10.536430505999999 -47.65387053 -8.673443352000001 L -22.487397618 11.333639436 C -21.899964744 11.799949602 -21.5454519 12.944028062000003 -21.75520669 13.670033817999999 L -30.900518082 45.368315020000004 C -31.755033981999997 48.332533563999995 -29.515189984 50.03887154 -27.13579624 48.30409229799999 L -1.211776860000003 29.388699619999993 C -0.5921225659999989 28.936411882 0.5933118939999987 28.936411882 1.2117931279999983 29.388196488000006 L 27.136032126000007 48.303749592 C 29.515895485999994 50.03887154 31.755739484000003 48.332533563999995 30.9013306 45.36868546 L 21.75517974 13.670628383999999 C 21.545840763999994 12.944454068000002 21.900650744000004 11.799965184 22.487199951999994 11.334356992000002 L 47.65483338 -8.673647878000004 C 49.997370499999995 -10.536650614000001 49.12850642 -13.341945596 46.22304318799999 -13.404519674000001 L 14.647032665999994 -14.078640996000003 C 13.891959129999993 -14.094892532000003 12.944031590000002 -14.817199866000001 12.702466293999997 -15.545927081999999 L 2.3333718660000025 -46.824464327200005 C 1.3737484180000004 -49.725014840760004 -1.3711653340000003 -49.725014840760004 -2.3323410040000025 -46.8254465126 Z",m._SHAPE_ARROW_CMDS=[25,48,25,8,47.5,8,0,-39,-47.5,8,-25,8,-25,48],m._SHAPE_HUMAN_CMDS="M -0.06059525142297417 -50.86842065108466 C -11.4496388584463 -50.86842065108466 -20.708163169810554 -39.024253028220556 -20.708163169810554 -24.413724255650386 C -20.708163169810554 -9.803195483080515 -11.4496388584463 2.040972139783591 -0.06059525142297417 2.040972139783591 C 11.328499974520241 2.040972139783591 20.586972666964613 -9.803195483080515 20.586972666964613 -24.413724255650386 C 20.586972666964613 -39.024253028220556 11.328499974520241 -50.86842065108466 -0.06059525142297417 -50.86842065108466 z M -23.93434565705865 -2.959610715450779 C -30.908061721494278 3.3998402034127153 -42.00096758564793 18.817121073473572 -38.77478509839983 33.65756051481475 C -20.651382358034887 47.30044101688934 14.372054723529814 49.13162219665128 39.298831093003386 32.85101489300273 C 40.26410489318826 16.477493533721187 32.34060070450674 4.7883891459240715 23.167918656763206 -2.959610715450779 C 11.553661702670112 21.074158341552575 -11.029615708066558 16.237465556670102 -23.93434565705865 -2.959610715450779 z ",m.render=function(t,a,i,n){if(r.hasData(t)){var s=t.getOptions(),h=s.__layout.outerGap,c=s&&(s.size>=0||s.size<1)?Math.sqrt(s.size):1,g=new e.Rectangle(h+(i-2*h)*(1-c)/2,h+(n-2*h)*(1-c)/2,(i-2*h)*c,(n-2*h)*c);m._renderShape(t,a,g),m._renderVisualEffects(t,a,g);var u=!1,p=e.ColorUtils.getContrastingTextColor(d.getColor(t));if(o(s)){var _="middle",v=m._getMetricLabelBounds(t,a,g);"on"==s.metricLabel.rendered&&(v.y=v.y+.6*v.h,v.h=.4*v.h,_="top"),u=e.Agent.isHighContrast()||null==s.label.style.getStyle("color")?l.renderLabel(t,a,v,p,_):l.renderLabel(t,a,v,null,_)}if("on"==s.metricLabel.rendered){var y=m._getMetricLabelBounds(t,a,g),b="middle";u&&(y.h=.55*y.h,b="bottom"),e.Agent.isHighContrast()||null==s.metricLabel.style.getStyle("color")?l.renderMetricLabel(t,a,y,p,"center",b):l.renderMetricLabel(t,a,y,null,"center",b)}}else l.renderEmptyText(t,a,new e.Rectangle(0,0,i,n))},m._renderShape=function(t,a,i){var n,s,r=t.getCtx(),o=t.getOptions(),l=o.type,h=d.getColor(t),c=d.getBorderColor(t),g=i.x+i.w/2,u=i.y+i.h/2,p=Math.min(i.w,i.h)/2;m._cache||(m._cache=new e.Cache(50));var _=Math.min(i.w/100,i.h/100);if("square"==l)n=new e.Rect(r,g-p,u-p,2*p,2*p);else if("rectangle"==l)n=new e.Rect(r,i.x,i.y,i.w,i.h);else if("diamond"==l)n=new e.Polygon(r,[g-p,u,g,u-p,g+p,u,g,u+p]);else if("circle"==l)n=new e.Circle(r,g,u,p);else{if("star"==l)s=m._SHAPE_STAR_CMDS;else if("triangle"==l)s=m._SHAPE_TRIANGLE_CMDS;else if("arrow"==l)s=m._SHAPE_ARROW_CMDS;else if("human"==l)s=m._SHAPE_HUMAN_CMDS;else if(!(s=m._cache.get(l))){n=new e.Path(r,l);var v=e.DisplayableUtils.getDimForced(r,n),y=100/Math.max(v.w,v.h);s=e.PathUtils.transformPath(n.getCommandsArray(),-y*(v.x+v.w/2),-y*(v.y+v.h/2),y,y),m._cache.put(l,s)}"triangle"==l||"arrow"==l?(s=e.PolygonUtils.scale(s,_,_),s=e.PolygonUtils.translate(s,i.x+i.w/2,i.y+i.h/2),n=new e.Polygon(r,s)):(s=e.PathUtils.transformPath(e.PathUtils.createPathArray(s),i.x+i.w/2,i.y+i.h/2,_,_),n=new e.Path(r,s))}if("none"==o.visualEffects)n.setSolidFill(h);else{var b=[e.ColorUtils.adjustHSL(h,0,-.09,.04),e.ColorUtils.adjustHSL(h,0,-.04,-.05)],f=o&&o.rotation%90==0?o.rotation:0,C="arrow"==l||"star"==l||"triangle"==l?f-90:270;n.setFill(new e.LinearGradientFill(C,b,[1,1],[0,1]))}c&&n.setSolidStroke(c),n.setClassName(o.svgClassName),n.setStyle(o.svgStyle),(f=o.rotation)&&("arrow"==l||"triangle"==l||n instanceof e.Path&&"human"!=l&&"star"!=l)&&(n=m._rotate(t,a,n,i)),a.addChild(n)},m._rotate=function(t,a,i,n){var s=t.getOptions(),r=new e.Container(t.getCtx());a.addChild(r),r.addChild(i);var o=s&&s.rotation%90==0?s.rotation:0,l=new e.Matrix;i.setMatrix(l.rotate(Math.PI*o/180));var h=r.getDimensions(),c=n.x+n.w/2-(h.x+h.w/2),g=n.y+n.h/2-(h.y+h.h/2),u=new e.Matrix;return r.setMatrix(u.translate(c,g)),r},m._renderVisualEffects=function(t,e,a){var i=t.getOptions();i.type;i.visualEffects},m._getMetricLabelBounds=function(t,a,i){var n=t.getOptions(),s=n.type,r=n.rotation%90==0?n.rotation:0,o=Math.min(i.w,i.h),l=i.x+i.w/2-o/2,h=i.y+i.h/2-o/2,c=o,g=o;return"triangle"==s?0==r?(l+=.2*o,h+=.25*o,c-=.4*o,g-=.3*o):90==r?(l+=.05*o,h+=.2*o,c-=.3*o,g-=.4*o):180==r?(l+=.2*o,h+=.05*o,c-=.4*o,g-=.3*o):270==r&&(l+=.25*o,h+=.2*o,c-=.3*o,g-=.4*o):"arrow"==s?0==r?(l+=.2*o,h+=.2*o,c-=.4*o,g-=.4*o):90==r?(l+=.05*o,h+=.2*o,c-=.28*o,g-=.4*o):180==r?(l+=.2*o,h+=.2*o,c-=.4*o,g-=.4*o):270==r&&(l+=.23*o,h+=.2*o,c-=.28*o,g-=.4*o):"star"==s?(l+=.25*o,h+=.25*o,c-=.5*o,g-=.4*o):"diamond"==s?(l+=.15*o,h+=.15*o,c-=.3*o,g-=.3*o):"rectangle"==s?(l+=.1*o,h+=.1*o,c-=.2*o,g-=.2*o):(l+=.15*o,h+=.15*o,c-=.3*o,g-=.3*o),new e.Rectangle(l,h,c,g)};const y=function(){};e.Obj.createSubclass(y,p),y.newInstance=function(t,e,a,i){var n=new y;return n.Init(t,e,a,i),n},y.prototype.Init=function(t,e,a,i){y.superclass.Init.call(this,t,e,a,i),this.Defaults=new v(t)},y.prototype.SetOptions=function(t){(t=e.JsonUtils.clone(t)).title&&(t.label=t.title),y.superclass.SetOptions.call(this,this.Defaults.calcOptions(t)),"auto"==this.Options.animationOnDisplay&&(this.Options.animationOnDisplay="zoom"),"auto"==this.Options.animationOnDataChange&&(this.Options.animationOnDataChange="alphaFade"),this.Options.readOnly=!0},y.prototype.Render=function(t,e,a){m.render(this,t,e,a)},y.prototype.getGaugeType=function(){return"led"};var b=function(t){this.Init({alta:b.SKIN_ALTA},t)};e.Obj.createSubclass(b,i),b.SKIN_ALTA={min:0,max:5,orientation:"horizontal",unselectedState:{shape:"star",color:"#C4CED7"},selectedState:{shape:"star",color:"#F8C15A"},hoverState:{shape:"star",color:"#007CC8"},changedState:{shape:"star",color:"#ED2C02"},preserveAspectRatio:"meet",step:1};var f=function(t){this.Init(t.getCtx(),t.dispatchEvent,t,t),this._gauge=t};e.Obj.createSubclass(f,g),f.prototype.OnMouseOver=function(t){if(this._gauge.IsInteractive()){var e=this.GetRelativePosition(t.pageX,t.pageY);this._gauge.__processValueChangeStart(e.x,e.y),this.IsMouseEditing=!0}f.superclass.OnMouseOver.call(this,t)},f.prototype.OnMouseOut=function(t){if(this._gauge.IsInteractive()){var e=this.GetRelativePosition(t.pageX,t.pageY);this._gauge.__processHoverEnd(e.x,e.y),this.IsMouseEditing=!1}f.superclass.OnMouseOut.call(this,t)},f.prototype.OnMouseMove=function(t){var e=this.GetRelativePosition(t.pageX,t.pageY),a=!0===this._gauge.getOptions().disabled;this._gauge.IsInteractive()&&!this.IsMouseEditing&&this._gauge.getOptions().value!==this._gauge.GetValueAt(e.x,e.y)&&(this.IsMouseEditing=!0),a||f.superclass.OnMouseMove.call(this,t)},f.prototype.OnMouseDown=function(t){g.superclass.OnMouseDown.call(this,t)},f.prototype.OnContextMenu=function(t){var a=e.Agent.engine;"webkit"!==a&&"blink"!==a||"mac"!==e.Agent.os||this.IsMouseEditing&&this.StopMouseEditing(t),f.superclass.OnContextMenu.call(this,t)},f.prototype.ProcessKeyboardEvent=function(t){return this.IsMouseEditing=!1,f.superclass.ProcessKeyboardEvent.call(this,t)},f.prototype.IsShowingTooltipWhileEditing=function(){return!0};var C=function(t){this.Init(),this._gauge=t};e.Obj.createSubclass(C,e.SimpleObjPeer),C.prototype.getDatatip=function(t,e,a){var i,n=this._gauge.getOptions();i=this._gauge.getEventManager().__isMouseEditing()?r.getValueThresholdIndex(this._gauge,this._gauge.GetValueAt(e,a)):r.getValueThresholdIndex(this._gauge);var s=r.getThreshold(this._gauge,i);return s&&s.shortDesc?s.shortDesc:n.shortDesc};var x=new Object;e.Obj.createSubclass(x,e.Obj),x.render=function(t,a,i,n){if(r.hasData(t)){var s=t.getOptions(),o=r.getValueThresholdIndex(t),h=r.getThreshold(t,o),c=s.selectedState.color,g=s.changedState.color,u=s.selectedState.borderColor,d=s.changedState.borderColor;h&&h.color&&(c=h.color,g=h.color),h&&h.borderColor&&(u=h.borderColor,d=h.borderColor);var p={value:0,state:"unselected",type:s.unselectedState.shape,color:s.unselectedState.color,borderColor:s.unselectedState.borderColor,visualEffects:s.visualEffects,source:s.unselectedState.source,svgClassName:s.unselectedState.svgClassName,svgStyle:s.unselectedState.svgStyle},_={value:0,state:"selected",type:s.selectedState.shape,color:c,borderColor:u,visualEffects:s.visualEffects,source:s.selectedState.source,svgClassName:s.selectedState.svgClassName,svgStyle:s.selectedState.svgStyle},v={value:0,state:"changed",type:s.changedState.shape,color:g,borderColor:d,visualEffects:s.visualEffects,source:s.changedState.source,svgClassName:s.changedState.svgClassName,svgStyle:s.changedState.svgStyle},m={value:0,state:"hover",type:s.hoverState.shape,color:s.hoverState.color,borderColor:s.hoverState.borderColor,visualEffects:s.visualEffects,source:s.hoverState.source,svgClassName:s.hoverState.svgClassName,svgStyle:s.hoverState.svgStyle};"dot"==s.unselectedState.shape&&(p.type="circle",p.visualEffects="none",p.size=.05),x._createShapes(t,a,p),x._createShapes(t,a,s.changed?v:_),s.readOnly||s.disabled||x._createShapes(t,a,m),t.__updateClipRects(s.value,"render",a)}else l.renderEmptyText(t,a,new e.Rectangle(0,0,i,n))},x._createShapes=function(t,a,i){var n=t.getCtx(),s=new e.Container(n);a.addChild(s);for(var r=t.getOptions(),o=t.__bounds,l=t.__shapeWidth,h=t.__shapeHeight,c="ie"===e.Agent.browser||"edge"===e.Agent.browser?null:x._createShape(n,0,0,l,h,i,r),g=0;g<r.max;g++){var u,d;if("vertical"==r.orientation?(u=o.x+o.w/2-l/2,d=o.y+o.h-(g+1)*h):e.Agent.isRightToLeft(n)?(u=o.x+o.w-(g+1)*l,d=o.y+o.h/2-h/2):(u=o.x+g*l,d=o.y+o.h/2-h/2),"ie"===e.Agent.browser||"edge"===e.Agent.browser){var p=x._createShape(n,u,d,l,h,i,r);p&&s.addChild(p)}else if(c){var _=new e.Use(n,u,d,c);s.addChild(_)}}},x._createShape=function(t,a,i,n,s,r,o){var l;if(r.source)l=new e.ImageMarker(t,a+n/2,i+s/2,n,s,null,r.source),"none"===o.preserveAspectRatio&&l.setPreserveAspectRatio("none");else if("none"!=r.type){if(l=y.newInstance(t,null,null,!0),0!=a&&0!=i&&l.setTranslate(a,i),o.disabled||e.Agent.isHighContrast()){var h=`oj-rating-gauge-${"unselected"===r.state?"unselected":"selected"}${o.disabled?"-disabled":""}`;o.disabled?(r.svgClassName=h,r.svgStyle=null):r.svgClassName=`${r.svgClassName||""} ${h}`.trim(),e.Agent.isHighContrast()&&l.addClassName("oj-hicontrast")}l.render(r,n,s)}return l};const A=function(){};e.Obj.createSubclass(A,p),A.newInstance=function(t,e,a){var i=new A;return i.Init(t,e,a),i},A.prototype.Init=function(t,e,a){A.superclass.Init.call(this,t,e,a),this.Defaults=new b(t)},A.prototype.SetOptions=function(t){(t=e.JsonUtils.clone(t)).changedState&&(t.changedState.className&&(t.changedState.svgClassName=t.changedState.className),t.changedState.style&&(t.changedState.svgStyle=t.changedState.style)),t.hoverState&&(t.hoverState.className&&(t.hoverState.svgClassName=t.hoverState.className),t.hoverState.style&&(t.hoverState.svgStyle=t.hoverState.style)),t.selectedState&&(t.selectedState.className&&(t.selectedState.svgClassName=t.selectedState.className),t.selectedState.style&&(t.selectedState.svgStyle=t.selectedState.style)),t.unselectedState&&(t.unselectedState.className&&(t.unselectedState.svgClassName=t.unselectedState.className),t.unselectedState.style&&(t.unselectedState.svgStyle=t.unselectedState.style)),this.getCtx().isCustomElement()&&(t.readOnly=t.readonly);var a=this.getCtx().getSvgDocument();"fit"!=t.size?(this.getCtx().removeSizingSvg(),a.style.height=t._height,a.style.width=t._width):this.getCtx().addSizingSvg(),A.superclass.SetOptions.call(this,this.Defaults.calcOptions(t))},A.prototype.Render=function(t,a,i){var n=this.Options.__layout.outerGap,s=this.Options.max,r=this.Options.size,o="vertical"==this.Options.orientation,l=this.Options.selectedState.source,h="none"!=this.Options.preserveAspectRatio;if(l&&h&&"fit"===r){return e.ImageLoader.loadImage(this.Options.selectedState.source,function(r){if("ie"!==e.Agent.browser&&"edge"!==e.Agent.browser||11!=e.Agent.version||!r||0!=r.width||0!=r.height||(r.width=1,r.height=1),r&&r.width&&r.height){var l=r.width/r.height;this.__shapeWidth=o?Math.min(a-2*n,(i-2*n)*l/s):Math.min((i-2*n)*l,(a-2*n)/s),this.__shapeHeight=this.__shapeWidth/l,this.__bounds=o?new e.Rectangle(n,(i-this.__shapeHeight*s)/2,a-2*n,this.__shapeHeight*s):new e.Rectangle((a-this.__shapeWidth*s)/2,n,this.__shapeWidth*s,i-2*n),x.render(this,t,a,i)}this.PostRender(this.Options,t)}.bind(this)),!1}return n="fit"===r?n:0,h?(this.__shapeWidth=o?Math.min(a-2*n,(i-2*n)/s):Math.min(i-2*n,(a-2*n)/s),this.__shapeHeight=this.__shapeWidth):(this.__shapeWidth=o?a-2*n:(a-2*n)/s,this.__shapeHeight=o?(i-2*n)/s:i-2*n),this.__bounds=o?new e.Rectangle(n,(i-this.__shapeHeight*s)/2,a-2*n,this.__shapeHeight*s):new e.Rectangle((a-this.__shapeWidth*s)/2,n,this.__shapeWidth*s,i-2*n),x.render(this,t,a,i),!0},A.prototype.getGaugeType=function(){return"rating"},A.prototype.__getLogicalObject=function(){var t=this.Options.tooltip,a=t?t.renderer:null,i=d.getColor(this);if(a){var n={component:this.Options._widgetConstructor,label:l.getFormattedMetricLabel(this.Options.value,this),color:i};return new e.CustomDatatipPeer(this.getCtx().getTooltipManager(),a,i,n)}return new C(this)},A.prototype.GetValueAt=function(t,a){var i="vertical"==this.Options.orientation?this.__shapeHeight:this.__shapeWidth;if(r.hasData(this)){if("vertical"==this.Options.orientation)a=Math.max(Math.min(a,this.__bounds.y+this.__bounds.h),this.__bounds.y),n=Math.max((this.__bounds.y+this.__bounds.h-a)/i,this.Options.min);else{t=Math.max(Math.min(t,this.__bounds.x+this.__bounds.w),this.__bounds.x);var n=0;n=e.Agent.isRightToLeft(this.getCtx())?Math.max((this.__bounds.x+this.__bounds.w-t)/i,this.Options.min):Math.max((t-this.__bounds.x)/i,this.Options.min)}return l.adjustForStep(this.Options,n)}return null},A.prototype.__processHoverEnd=function(t,a){this.__updateClipRects(this.Options.value,"render"),this.dispatchEvent(e.EventFactory.newValueChangeEvent(this.Options.value,this.Options.value,!1))},A.prototype.__processValueChangeStart=function(t,e){this.__processValueChangeMove(t,e)},A.prototype.__processValueChangeMove=function(t,a){var i=this.GetValueAt(t,a);this.__updateClipRects(i,"hover"),this.dispatchEvent(e.EventFactory.newValueChangeEvent(this.Options.value,i,!1))},A.prototype.__processValueChangeEnd=function(t,a){var i=this.Options.value;this.Options.value=this.GetValueAt(t,a),this.Options.changed=!0,this.render(),this.dispatchEvent(e.EventFactory.newValueChangeEvent(i,this.Options.value,!1)),this.dispatchEvent(e.EventFactory.newValueChangeEvent(i,this.Options.value,!0))},A.prototype.__updateClipRects=function(t,a,i){if(r.hasData(this)){i||(i=this._container);var n=e.Agent.isRightToLeft(this.getCtx()),s="vertical"==this.Options.orientation,o=s?this.__shapeHeight:this.__shapeWidth,l=0,h=(t=Math.max(Math.min(t,this.Options.max),0))*o,c=t*o;if("render"==a&&(l=t*o,h=0),s){var g=i.getChildAt(0);(d=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w,this.__bounds.h-c),g.setClipPath(d);var u=i.getChildAt(1);if((p=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-l,this.__bounds.w,l),u.setClipPath(p),_=i.getChildAt(2))(v=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y+this.__bounds.h-h,this.__bounds.w,h),_.setClipPath(v)}else if(n){g=i.getChildAt(0);(d=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y,this.__bounds.w-c,this.__bounds.h),g.setClipPath(d);u=i.getChildAt(1);if((p=new e.ClipPath).addRect(this.__bounds.x+this.__bounds.w-c,this.__bounds.y,l,this.__bounds.h),u.setClipPath(p),_=i.getChildAt(2))(v=new e.ClipPath).addRect(this.__bounds.x+this.__bounds.w-c,this.__bounds.y,h,this.__bounds.h),_.setClipPath(v)}else{var d,g=i.getChildAt(0);(d=new e.ClipPath).addRect(this.__bounds.x+c,this.__bounds.y,this.__bounds.w-c,this.__bounds.h),g.setClipPath(d);var p,_,v,u=i.getChildAt(1);if((p=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y,l,this.__bounds.h),u.setClipPath(p),_=i.getChildAt(2))(v=new e.ClipPath).addRect(this.__bounds.x,this.__bounds.y,h,this.__bounds.h),_.setClipPath(v)}this.UpdateAriaLiveValue(i,t)}},A.prototype.__getRatingGaugeItem=function(t){return this._container.getChildAt(0).getChildAt(t)},A.prototype.CreateEventManager=function(){return new f(this)},A.prototype.IsInteractive=function(){return!this.Options.disabled&&A.superclass.IsInteractive.call(this)};var S=function(t){this.Init({alta:S.SKIN_ALTA},t)};e.Obj.createSubclass(S,i),S.SKIN_ALTA={angleExtent:360,borderRadius:"auto",color:"#393737",indicatorSize:1,innerRadius:.7,metricLabel:{style:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA),position:"auto"},orientation:"horizontal",plotArea:{color:"#E4E8EA",rendered:"auto",borderRadius:"auto"},startAngle:90,thresholdDisplay:"onIndicator"};var w=function(t,e,a){this.Init(t,e,a)};e.Obj.createSubclass(w,a.BaseAxisInfo),w.prototype.Init=function(t,e,a){w.superclass.Init.call(this,t,e,a),this.MixinInit.call(this,e)},a.DataAxisInfoMixin.call(w.prototype);const O={calcPointOnArc:function(t,e,a){return{x:Math.cos(a)*e+t.w/2+t.x,y:Math.sin(a)*e+t.h/2+t.y}},createCircularPathCmd:function(t,a,i,n,s){var r,o,l,h,c;return i<e.Math.TWO_PI?(o=O.calcPointOnArc(t,s,a),l=O.calcPointOnArc(t,s,a+i),h=O.calcPointOnArc(t,n,a+i),c=O.calcPointOnArc(t,n,a),r=e.PathUtils.moveTo(o.x,o.y)+e.PathUtils.arcTo(s,s,i,1,l.x,l.y)+e.PathUtils.lineTo(h.x,h.y)+e.PathUtils.arcTo(n,n,i,0,c.x,c.y)+e.PathUtils.closePath()):(o=O.calcPointOnArc(t,s,a),l=O.calcPointOnArc(t,s,a+i/2),h=O.calcPointOnArc(t,n,a),c=O.calcPointOnArc(t,n,a+i/2),r=e.PathUtils.moveTo(o.x,o.y)+e.PathUtils.arcTo(s,s,i/2,1,l.x,l.y)+e.PathUtils.arcTo(s,s,i/2,1,o.x,o.y),n>0&&(r+=e.PathUtils.moveTo(c.x,c.y)+e.PathUtils.arcTo(n,n,i/2,0,h.x,h.y)+e.PathUtils.arcTo(n,n,i/2,0,c.x,c.y)),r+=e.PathUtils.closePath()),r}};var L=function(t,e,a,i,n,s){this.Init(t,e,a,i,n,s)};e.Obj.createSubclass(L,e.Path),L.prototype.Init=function(t,e,a,i,n,s){L.superclass.Init.call(this,t),this.setPath(e,a,i,n,s)},L.prototype.setPath=function(t,a,i,n,s){t&&t instanceof e.Rectangle?this._bounds=t:t=this._bounds,this._startAngle=a,this._angleExtent=i,this._innerRadius=n,this._outerRadius=s,this.setCmds(O.createCircularPathCmd(t,a,i,n,s))},L.prototype.getAnimationParams=function(){return[this._bounds,this._startAngle,this._angleExtent,this._innerRadius,this._outerRadius]},L.prototype.setAnimationParams=function(t){t&&5==t.length&&this.setPath(t[0],t[1],t[2],t[3],t[4])};var M=function(t,e,a,i,n,s){this.Init(t,e,a,i,n,s)};e.Obj.createSubclass(M,e.Path),M.prototype.Init=function(t,e,a,i,n,s){M.superclass.Init.call(this,e),this._gauge=t,this.setCoords(a,i,n,s)},M.prototype.setCoords=function(t,a,i,n){this._x1=t,this._x2=a,this._y1=i,this._y2=n;var s=Math.min(t,a),r=Math.min(i,n),o=Math.abs(t-a),l=Math.abs(n-i),h=this._gauge.getOptions(),c="vertical"==h.orientation?o:l,g=e.PathUtils.rectangleWithBorderRadius(s,r,o,l,h.borderRadius,c,"15%");this.setCmds(g)},M.prototype.getAnimationParams=function(){return[this._x1,this._x2,this._y1,this._y2]},M.prototype.setAnimationParams=function(t){t&&4==t.length&&this.setCoords(t[0],t[1],t[2],t[3])};var T=new Object;e.Obj.createSubclass(T,e.Obj),T.render=function(t,a,i,n){if(r.hasData(t)){var s=t.getOptions(),o=s.__layout.outerGap,h=new e.Rectangle(o,o,i-2*o,n-2*o);"horizontal"==s.orientation||"vertical"==s.orientation?(T._hasMetricLabelOutsidePlotArea(s)&&T._renderMetricLabelOutsidePlotArea(t,a,h),T._renderShape(t,a,h)):"circular"==s.orientation&&T._renderCircularGauge(t,a,h)}else l.renderEmptyText(t,a,new e.Rectangle(0,0,i,n))},T._renderCircularGauge=function(t,a,i){var n,s=t.getOptions(),r=i.clone(),h=e.Agent.isRightToLeft(t.getCtx()),c=0,g=null,u=s.value,p=s.innerRadius,_=s.thresholds,v=null,m=e.Math.TWO_PI-e.Math.degreesToRads(s.startAngle),y=e.Math.degreesToRads(s.angleExtent),b=(m+y)%(2*Math.PI);t.cx=i.w/2,t.cy=i.h/2,y!=2*Math.PI&&(g=T._adjustCenterAndBounds(t,p,m,y,b,i,h),v=t.maxInnerDiameter);var f=.5*(n=n||Math.min(i.w,i.h))*p,C=.5*n,x=s.indicatorSize;if(x&&x>1){var A=(1-1/x)/2*(C-f);f+=A,C-=A}var S="middle";g||(v=Math.min(i.w,i.h)*p,g=new e.Rectangle(i.x+i.w/2-v*(3/7),i.y+i.h/2-v*(2.5/7),v*(6/7),v*(5/7)));if(o(s)){var w="middle",O=new e.Rectangle(g.x,g.y,g.w,g.h);"off"!=s.metricLabel.rendered&&(O.y=O.y+.6*O.h,O.h=.4*O.h,w="top"),l.renderLabel(t,a,O,null,w)&&"off"!=s.metricLabel.rendered&&(g.h=.55*g.h,S="bottom")}l.renderMetricLabel(t,a,g,null,"center",S,!0);var L=m,M=c*y,E=d.getPlotAreaBorderColor(t);if(_&&"off"!=s.plotArea.rendered&&"all"==s.thresholdDisplay)for(var I=0;I<_.length;I++){var R=d.getThresholdColor(t,_[I],I),P=_[I].max<s.max&&I!=_.length-1?_[I].max:s.max,D=0==I?s.min:_[I-1].max;L=m+y*l.getFillPercentage(s,s.min,P,D),M=(c=l.getFillPercentage(s,D,P,P))*y;var k=_[I].borderColor;T._drawCircularArc(t,a,i,L,M,f,C,R,!0,k||E)}else if("off"!=s.plotArea.rendered&&"all"!=s.thresholdDisplay){var N=d.getPlotAreaColor(t);T._drawCircularArc(t,a,i,m,y,f,C,N,!0,E)}if(f=n*p*.5,C=.5*n,x&&x<1){var U=(1-x)/2*(C-f);f+=U,C-=U}M=(c=l.getFillPercentage(s,s.min,s.max,u))*y,T._drawCircularArc(t,a,i,m,M,f,C,d.getColor(t),!1);var F=s.referenceLines;if(F)for(var V=0;V<F.length;V++){var H=F[V].color?F[V].color:"black",j=F[V].lineWidth?F[V].lineWidth:2,G=F[V].lineStyle;u=F[V].value;var B=m+l.getFillPercentage(s,s.min,s.max,u)*y;T._drawCircularReferenceLine(t,a,i,B,H,j,G)}s.center.renderer&&T._renderCenterContent(t,s,i,r,v)},T._renderShape=function(t,a,i){var n=t.getOptions(),s=e.Agent.isRightToLeft(t.getCtx()),r="vertical"==n.orientation,l={layout:{}};l.isRTL=s,l.layout.gapRatio=0,l.timeAxisType="disabled",l.position=r?"left":"bottom",l.min=n.min,l.max=n.max,l.dataMin=n.min,l.dataMax=n.max,l.tickLabel={rendered:"off"},l.translations=n.translations;var h=new w(t.getCtx(),l,i);t.__axisInfo=h;var c=0;n.max<=0?c=n.max:n.min>=0&&(c=n.min);var g=h.getCoordAt(c);"off"==n.plotArea.rendered||"auto"==n.plotArea.rendered&&"onIndicator"==n.thresholdDisplay||(g=h.getUnboundedCoordAt(n.min));var u=h.getUnboundedCoordAt(n.value);u=r?Math.max(i.y,Math.min(i.y+i.h,u)):Math.max(i.x,Math.min(i.x+i.w,u));var p,_,v,m,y,b,f,C=0,x=(et=n.indicatorSize)<1?1:et,A=et>1?1:et,S=Math.min(.5,(Math.abs(u-g)-.5)/2);if(r){var O=u>g?-1:1;p=i.x+(1-A)/2*i.w+.5,_=i.x+i.w*(1+A)/2-.5,m=g-O*S,v=u+O*S,y=i.x+(1-1/x)/2*i.w,b=i.x+i.w*(1+1/x)/2,f=i.y,C=i.y+i.h}else{O=(s?u>g:u<g)?-1:1;p=s?g-O*S:g+O*S,_=s?u+O*S:u-O*S,v=i.y+(1-A)/2*i.h+.5,m=i.y+i.h*(1+A)/2-.5,y=i.x,b=i.x+i.w,f=i.y+(1-1/x)/2*i.h,C=i.y+i.h*(1+1/x)/2}var L=!0;n.value==n.min&&(r?v=m:p=_,L=!1);var E=d.getBorderColor(t),I=d.getPlotAreaBorderColor(t),R=n.thresholds,P=r?0:270;if(R&&"off"!=n.plotArea.rendered&&"all"==n.thresholdDisplay)for(var D=R.length-1;D>=0;D--){var k=D,N=T._createShape(t,t.getCtx(),y,b,f,C),U=new e.ClipPath("pacp"+t.getId());if(D==R.length-1)!r&&s?U.addRect(h.getUnboundedCoordAt(n.max)+1,0,i.w+2,i.h+2,0,0):U.addRect(0,0,i.w+2,i.h+2,0,0);else if(r){var F=n.max-R[R.length-2-k].max;U.addRect(0,h.getUnboundedCoordAt(n.max),i.w+2,1*Math.max(0,F)/Math.abs(n.min-n.max)*i.h,0,0)}else if(s){var V=null==R[R.length-2-k].max?100:R[R.length-2-k].max;U.addRect(h.getUnboundedCoordAt(n.max),0,1*Math.max(0,n.max-V)/Math.abs(n.min-n.max)*i.w,i.h+2,0,0)}else{var H=R[k].max-n.min;U.addRect(0,0,1*Math.max(0,H)/Math.abs(n.min-n.max)*i.w,i.h+2,0,0)}N.setClipPath(U),(s||r)&&(k=R.length-1-D),N.setSolidFill(d.getThresholdColor(t,R[k],k));var j=R[k].borderColor;N.setSolidStroke(j||I),T._renderPlotAreaVisualEffects(t,a,N,d.getThresholdColor(t,R[k],k),P)}else if("off"!=n.plotArea.rendered&&("auto"!=n.plotArea.rendered||"onIndicator"!=n.thresholdDisplay)&&"all"!=n.thresholdDisplay){N=r?T._createShape(t,t.getCtx(),y,b,h.getUnboundedCoordAt(n.max),h.getUnboundedCoordAt(n.min)):T._createShape(t,t.getCtx(),h.getUnboundedCoordAt(n.min),h.getUnboundedCoordAt(n.max),f,C);var G=d.getPlotAreaColor(t);N.setSolidFill(G),N.setSolidStroke(I),T._renderPlotAreaVisualEffects(t,a,N,G,P)}var B=new M(t,t.getCtx(),p,_,v,m);t.__shapes.push(B);var W=d.getColor(t);if("none"!=n.visualEffects){var z=[e.ColorUtils.adjustHSL(W,0,-.09,.04),e.ColorUtils.adjustHSL(W,0,-.04,-.05)],Y=new e.LinearGradientFill(P,z,[1,1],[0,1]);B.setFill(Y)}else B.setSolidFill(W);E&&B.setSolidStroke(E),B.setClassName(n.svgClassName),B.setStyle(n.svgStyle),L&&a.addChild(B);var X,K,Q,q,J=T._createShape(t,t.getCtx(),p,_,v,m);T._renderVisualEffects(t,a,J,L,P);var $=n.referenceLines;if($)for(D=0;D<$.length;D++){var Z=$[D].color?$[D].color:"white",tt=$[D].value,et=n.indicatorSize;r?(q=((1-et)/2+et)*i.w,X=i.x+(1-et)/4*i.w,K=h.getUnboundedCoordAt(tt),Q=new e.Line(t.getCtx(),X,K,X+q,K)):(q=((1-et)/2+et)*i.h,X=h.getUnboundedCoordAt(tt),K=i.y+(1-et)/4*i.h,Q=new e.Line(t.getCtx(),X,K,X,K+q));var at=$[D].lineWidth?$[D].lineWidth:2,it=$[D].lineStyle,nt=new e.Stroke(Z,1,at,!1,e.Stroke.getDefaultDashProps(it,at));if(Q.setStroke(nt),a.addChild(Q),"ie"!==e.Agent.browser&&"edge"!==e.Agent.browser&&"none"!=n.visualEffects){var st=new e.Shadow(.5,.5,1,"rgba(0, 0, 0, 0.8)");Q.addDrawEffect(st)}}var rt=n.metricLabel.position;if("on"!=n.metricLabel.rendered||T._hasMetricLabelOutsidePlotArea(n)||o(n))o(n)&&T._renderLabel(t,a,i,rt);else{var ot={x1:p,x2:_,y1:v,y2:m},lt={x1:y,x2:b,y1:f,y2:C};T._renderMetricLabelInsidePlotArea(t,a,i,W,rt,ot,lt)}},T._createShape=function(t,a,i,n,s,r){var o=Math.min(i,n),l=Math.min(s,r),h=Math.abs(i-n),c=Math.abs(r-s),g=t.getOptions(),u="vertical"==g.orientation?h:c,d="auto"!=g.plotArea.borderRadius?g.plotArea.borderRadius:g.borderRadius,p=e.PathUtils.rectangleWithBorderRadius(o,l,h,c,d,u,"15%");return new e.Path(a,p)},T._renderVisualEffects=function(t,e,a,i,n){t.getOptions().visualEffects},T._renderPlotAreaVisualEffects=function(t,a,i,n,s){var r,o,l=t.getOptions();(i.setMouseEnabled(!1),a.addChild(i),"none"!=l.visualEffects)&&(r=[e.ColorUtils.adjustHSL(n,0,-.04,-.05),e.ColorUtils.adjustHSL(n,0,-.09,.04)],o=new e.LinearGradientFill(s,r,[1,1],[0,1]),i.setFill(o),i.setClassName(l.plotArea.svgClassName),i.setStyle(l.plotArea.svgStyle))},T._renderMetricLabelOutsidePlotArea=function(t,a,i){var n=t.getOptions(),s=e.Agent.isRightToLeft(t.getCtx()),r="vertical"==n.orientation,o=new e.OutputText(t.getCtx(),""),h=l.getFormattedMetricLabel(n.value,t),c=n.__layout.labelGap,g=n.metricLabel.style,u=g.getStyle("color");u=u||"#333333";var d=null;if(o.setCSSStyle(g),o.setSolidFill(u),r&&"on"==n.metricLabel.rendered){var p=n.max>0?n.max:n.min,_=l.getFormattedMetricLabel(p,t);(C=new e.OutputText(t.getCtx(),_)).setCSSStyle(g);var v=new e.Rectangle(i.x,i.y+.8*i.h,i.w,.2*i.h),m=g.getStyle("font-size")||e.TextUtils.getOptimalFontSize(C.getCtx(),C.getTextString(),C.getCSSStyle(),v);C.setFontSize(m),d=C.getDimensions(),i.h-=d.h,b=i.y-d.h;var y=d.w;o.setFontSize(m),o.setTextString(h),o.setX(i.x+i.w/2),o.setY(i.y+i.h),i.h-=c,o.alignCenter(),e.TextUtils.fitText(o,i.w,i.h,a)}else if(!r&&"on"==n.metricLabel.rendered){m=g.getStyle("font-size");var b,f=l.getFormattedMetricLabel(n.min,t),C=l.getFormattedMetricLabel(n.max,t);if(void 0===m&&i.h<18&&(m=l.calcLabelFontSize([h,f,C],o,i)),m=m?parseInt(m):13,o.setFontSize(m),n.max>0||"off"!=n.plotArea.rendered||"auto"!=n.plotArea.rendered||"onIndicator"!=n.thresholdDisplay){p=n.max>0?n.max:n.min,_=l.getFormattedMetricLabel(p,t);(C=new e.OutputText(t.getCtx(),_)).setCSSStyle(g),C.setFontSize(m),(d=C.getDimensions()).w=Math.min(d.w,i.w),b=s?i.x+d.w:i.x+i.w,y=d.w,s?(i.x+=d.w+c,i.w-=d.w+c):i.w-=d.w+c}if(n.min<0&&"on"!=n.plotArea.rendered&&("auto"!=n.plotArea.rendered||"onIndicator"!=n.thresholdDisplay)){var x=l.getFormattedMetricLabel(n.min,t);(f=new e.OutputText(t.getCtx(),x)).setCSSStyle(g),f.setFontSize(m);var A=f.getDimensions();(n.value<0||n.max<=0)&&(b=s?i.x+i.w:i.x+A.w,y=A.w),s||(i.x+=A.w+c),i.w-=A.w+c}o.setTextString(h),o.setX(b),e.TextUtils.centerTextVertically(o,i.y+i.h/2),o.alignRight();var S="firefox"===e.Agent.browser?i.h+2:i.h;e.TextUtils.fitText(o,y,S,a)}},T._renderMetricLabelInsidePlotArea=function(t,a,i,n,s,r,o,h){var c=t.getOptions(),g=e.Agent.isRightToLeft(t.getCtx()),u="vertical"==c.orientation,d="on"==c.plotArea.rendered,p="center",_="middle",v=new e.Rectangle(Math.min(r.x1,r.x2),Math.min(r.y1,r.y2),Math.abs(r.x2-r.x1),Math.abs(r.y2-r.y1)),m=c.metricLabel.style.getStyle("color");"center"==s?(m=m||e.ColorUtils.getContrastingTextColor(n),u?(v.h-=v.w,v.y+=v.w/2):(v.w-=v.h,v.x+=v.h/2)):"insideIndicatorEdge"==s?(m=m||e.ColorUtils.getContrastingTextColor(n),u?(v.h-=v.w,v.y+=v.w/2,_=!d&&r.y1>r.y2?"bottom":"top"):(v.w-=v.h,v.x+=v.h/2,p=g?!d&&r.x1<r.x2?"right":"left":!d&&r.x1>r.x2?"left":"right")):"outsideIndicatorEdge"==s&&(u?(v.h=Math.abs(o.y1-r.y1)-v.w,v.y=o.y1+v.w/2,_="bottom",!d&&r.y1>r.y2&&(v.h=Math.abs(o.y2-r.y1)-v.w,v.y=r.y1+v.w/2,_="top")):g?!d&&r.x1<r.x2?(v.w=Math.abs(o.x2-r.x2)-v.h,v.x=r.x2+v.h/2,p="left"):(v.w=Math.abs(o.x1-r.x2)-v.h,v.x=o.x1+v.h/2,p="right"):!d&&r.x1>r.x2?(v.w=Math.abs(o.x1-r.x2)-v.h,v.x=o.x1+v.h/2,p="right"):(v.w=Math.abs(o.x2-r.x2)-v.h,v.x=r.x2+v.h/2,p="left")),l.renderMetricLabel(t,a,v,m,p,_)||h||("outsideIndicatorEdge"==s?T._renderMetricLabelInsidePlotArea(t,a,i,n,"insideIndicatorEdge",r,o,!0):"insideIndicatorEdge"!=s&&"center"!=s||T._renderMetricLabelInsidePlotArea(t,a,i,n,"outsideIndicatorEdge",r,o,!0))},T._renderLabel=function(t,a,i,n){var s=e.Agent.isRightToLeft(t.getCtx()),r=t.getOptions(),o="vertical"==r.orientation,h=new e.Rectangle(i.x,i.y,o?i.w:i.w-i.h,o?i.h-i.w:i.h),c=r.label.text;if(!T._hasMetricLabelOutsidePlotArea(r)&&"on"==r.metricLabel.rendered){var g=l.getFormattedMetricLabel(r.value,t);c=e.ResourceUtils.format(r.translations.labelAndValue,[c,g])}var u=r.label.style,d=u.clone(),p=u.getStyle("font-size");if(!p){var _=new e.OutputText(t.getCtx(),c,0,0);_.setCSSStyle(u),_.setTextString(c),p=o?e.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new e.Rectangle(h.x,h.y,h.w,Number.MAX_VALUE)):e.TextUtils.getOptimalFontSize(_.getCtx(),_.getTextString(),_.getCSSStyle(),new e.Rectangle(h.x,h.y,Number.MAX_VALUE,h.h))}var v=new e.MultilineText(t.getCtx(),c);d.setFontSize("font-size",p,t.getCtx()),v.setCSSStyle(d),e.TextUtils.fitText(v,h.w,h.h,t),"center"==r.label.position||"auto"==r.label.position&&o?(e.TextUtils.centerTextVertically(v,i.y+i.h/2),v.setX(i.x+i.w/2),v.alignCenter()):(e.TextUtils.centerTextVertically(v,i.y+i.h/2),!o&&s?(v.setX(i.x+i.w-h.h/2),v.alignRight()):o||s?o&&(v.setY(i.y+i.h-v.getDimensions().h-h.w/2),v.setX(i.x+i.w/2),v.alignCenter()):(v.setX(i.x+h.h/2),v.alignLeft())),a.addChild(v)},T._drawCircularArc=function(t,a,i,n,s,r,o,l,h,c){var g,u=t.getCtx();e.Agent.isRightToLeft(t.getCtx())&&(n=(n=Math.PI-n-s)>0?n:n+2*Math.PI),h?g=new e.Path(u,O.createCircularPathCmd(i,n,s,r,o)):(g=new L(u,i,n,s,r,o),t.__shapes.push(g)),g.setSolidFill(l);var p=d.getBorderColor(t);p&&!h?g.setSolidStroke(p):h&&c&&g.setSolidStroke(c);var _=t.getOptions();g.setClassName(h?_.plotArea.svgClassName:_.svgClassName),g.setStyle(h?_.plotArea.svgStyle:_.svgStyle),a.addChild(g)},T._drawCircularReferenceLine=function(t,a,i,n,s,r,o){var l=t.getCtx(),h=Math.min(i.w,i.h),c=.275*h,g=.5*h;e.Agent.isRightToLeft(t.getCtx())&&(n=(n=Math.PI-n)>0?n:n+2*Math.PI);var u=O.calcPointOnArc(i,c,n),d=O.calcPointOnArc(i,g,n),p=new e.Line(l,u.x,u.y,d.x,d.y),_=new e.Stroke(s,1,r,!1,e.Stroke.getDefaultDashProps(o,r));p.setStroke(_),a.addChild(p)},T.getAngleQuadrant=function(t,a){var i=1;return a?t>=e.Math.HALF_PI&&t<Math.PI?i=2:t>=Math.PI&&t<1.5*Math.PI?i=3:t>=1.5*Math.PI&&t<e.Math.TWO_PI&&(i=4):t>e.Math.HALF_PI&&t<=Math.PI?i=2:t>Math.PI&&t<=1.5*Math.PI?i=3:(t>1.5*Math.PI&&t<e.Math.TWO_PI||0==t)&&(i=4),i},T._hasMetricLabelOutsidePlotArea=function(t){var e=t.metricLabel.position;return"auto"==e||"outsidePlotArea"==e||("withLabel"==e||"withTitle"==e)&&!o(t)},T._adjustCenterAndBounds=function(t,a,i,n,s,r,o){var l,h,c=null,g=T.getAngleQuadrant(i,!0),u=T.getAngleQuadrant(s,!1),d=r.w,p=r.h,_=d/2,v=p/2;if(g==u&&n<=e.Math.HALF_PI)l=2*Math.min(r.w,r.h),r.w=r.w+l/2,r.h=r.h+l/2,h=l*a,!o&&1==g||o&&2==g?(r.x-=l/2,r.y-=l/2,_=d/2-l/4+1,v=p/2-l/4+1,c=new e.Rectangle(r.x+r.w/2-1,r.y+r.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&2==g||o&&1==g?(r.y-=l/2,_=d/2+l/4-1,v=p/2-l/4+1,c=new e.Rectangle(r.x+r.w/2-h*(3/7)+1,r.y+r.h/2-1,h*(3/7)-2,h*(2.5/7)-2)):!o&&3==g||o&&4==g?(_=d/2+l/4-1,v=p/2+l/4-1,c=new e.Rectangle(r.x+r.w/2-h*(3/7)+1,r.y+r.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2)):(!o&&4==g||o&&3==g)&&(r.x-=l/2,_=d/2-l/4+1,v=p/2+l/4-1,c=new e.Rectangle(r.x+r.w/2-1,r.y+r.h/2-h*(2.5/7)+1,h*(3/7)-2,h*(2.5/7)-2));else if(g%4+1==u&&n<=Math.PI)1==g||3==g?(h=(l=Math.min(r.w,2*r.h))*a,r.w>r.h&&(c=new e.Rectangle(r.x+r.w/2-h*(3/7),r.y+r.h-(r.h-l/2)/2-h*(2.75/7),h*(6/7),h*(2.5/7)),1==g?(c.y=r.y+(r.h-l/2)/2+h*(.5/7),r.y-=l/2-(r.h-l/2)/2,v=p/2-l/4+1):(r.y+=(r.h-l/2)/2,v=p/2+l/4-1),r.h=l)):(h=(l=Math.min(2*r.w,r.h))*a,r.w<r.h&&(c=new e.Rectangle(r.x+r.w-(r.w-l/2)/2-h*(3.25/7),r.y+r.h/2-h*(2.5/7),h*(3/7),h*(5/7)),!o&&4==g||o&&2==g?(c.x=r.x+(r.w-l/2)/2+h*(.25/7),r.x-=l/2-(r.w-l/2)/2,_=d/2-l/4+1):(r.x+=(r.w-l/2)/2,_=d/2+l/4-1),r.w=l));else if(u%4+1==g&&n>Math.PI)if(1==g&&r.h>r.w){var m=(h=(l=Math.min(r.w/(Math.cos(i)+1)*2,r.w/(Math.sin(s-1.5*Math.PI)+1)*2,r.h))*a)*(3/7)*(2*r.w/l-1);o?(c=new e.Rectangle(r.x+r.w-l/2-m,r.y+r.h/2-h*(2.5/7),h*(3/7)+m,h*(5/7)),r.x-=l-r.w,_=-l/2+d):(c=new e.Rectangle(r.x+l/2-h*(3/7),r.y+r.h/2-h*(2.5/7),h*(3/7)*(2*r.w/l-1+1),h*(5/7)),_=l/2),r.w=l}else if(2==g&&r.h<r.w)h=(l=Math.min(r.h/(Math.cos(i-e.Math.HALF_PI)+1)*2,r.h/(Math.sin(s)+1)*2,r.w))*a,c=new e.Rectangle(r.x+r.w/2-h*(3/7),r.y+l/2-h*(2.5/7),h*(6/7),h*(2.5/7)*(2*r.h/l-1+1)),r.h=l,v=l/2;else if(3==g&&r.h>r.w){m=(h=(l=Math.min(r.w/(Math.cos(i-Math.PI)+1)*2,r.w/(Math.sin(s-e.Math.HALF_PI)+1)*2,r.h))*a)*(3/7)*(2*r.w/l-1);o?(c=new e.Rectangle(r.x+l/2-h*(3/7),r.y+r.h/2-h*(2.5/7),h*(3/7)*(2*r.w/l-1+1),h*(5/7)),_=l/2):(c=new e.Rectangle(r.x+r.w-l/2-m,r.y+r.h/2-h*(2.5/7),h*(3/7)+m,h*(5/7)),r.x-=l-r.w,_=-l/2+d),r.w=l}else if(4==g&&r.h<r.w){m=(h=(l=Math.min(r.h/(Math.cos(i-1.5*Math.PI)+1)*2,r.h/(Math.sin(e.Math.TWO_PI-s)+1)*2,r.w))*a)*(2.5/7)*(2*r.h/l-1);c=new e.Rectangle(r.x+r.w/2-h*(3/7),r.y+r.h-l/2-m,h*(6/7),h*(2.5/7)+m),r.y-=l-r.h,r.h=l,v=-l/2+p}return t.cx=_,t.cy=v,t.maxInnerDiameter=h,c},T._renderCenterContent=function(t,a,i,n,s){var r=new e.Rectangle(i.x+.5*(i.w-s),i.y+.5*(i.h-s),s,s);r=r.getIntersection(n);var o=new e.Rectangle(i.x+.5*(i.w-s/Math.sqrt(2)),i.y+.5*(i.h-s/Math.sqrt(2)),s/Math.sqrt(2),s/Math.sqrt(2));o=o.getIntersection(n);var h=a.center.renderer;if(h){var c={outerBounds:{x:r.x,y:r.y,width:r.w,height:r.h},innerBounds:{x:o.x,y:o.y,width:o.w,height:o.h},metricLabel:l.getFormattedMetricLabel(a.value,t),component:a._widgetConstructor},g=t.getCtx();c=g.fixRendererContext(c);var u=g.getContainer(),d=t.centerDiv;d&&u.removeChild(d);var p=h(c);if(!p)return;var _=g.createOverlayDiv();Array.isArray(p)?p.forEach(function(t){_.appendChild(t)}):_.appendChild(p),t.centerDiv=_,u.appendChild(_);var v=g.getOverlayAttachedCallback();v&&v(_)}};const E=function(){};e.Obj.createSubclass(E,p),E.newInstance=function(t,e,a){var i=new E;return i.Init(t,e,a),i},E.prototype.Init=function(t,e,a){E.superclass.Init.call(this,t,e,a),this.Defaults=new S(t),this.__axisInfo=null},E.prototype.SetOptions=function(t){(t=e.JsonUtils.clone(t)).title&&(t.label=t.title),t.plotArea&&(t.plotArea.className&&(t.plotArea.svgClassName=t.plotArea.className),t.plotArea.style&&(t.plotArea.svgStyle=t.plotArea.style)),this.getCtx().isCustomElement()&&(t.readOnly=t.readonly),E.superclass.SetOptions.call(this,this.Defaults.calcOptions(t))},E.prototype.Render=function(t,e,a){T.render(this,t,e,a)},E.prototype.getGaugeType=function(){return"statusMeter"},E.prototype.CreateAnimationOnDisplay=function(t,a,i){for(var n=[],s=0;s<t.length;s++){var r=t[s],o=r.getAnimationParams();"horizontal"==this.Options.orientation?r.setAnimationParams([o[0],o[0],o[2],o[3]]):"vertical"==this.Options.orientation?r.setAnimationParams([o[0],o[1],o[3],o[3]]):"circular"==this.Options.orientation&&r.setAnimationParams([o[0],o[1],0,o[3],o[4]]);var l=new e.CustomAnimation(this.getCtx(),r,i);l.getAnimator().addProp(e.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,o),l.getAnimator().setEasing(function(t){return e.Easing.backOut(t,.7)}),n.push(l)}return new e.ParallelPlayable(this.getCtx(),n)},E.prototype.GetValueAt=function(t,a){var i=this.Options,n=e.Agent.isRightToLeft(this.getCtx());if("horizontal"==i.orientation)return this.__axisInfo.getBoundedValueAt(t);if("vertical"==i.orientation)return this.__axisInfo.getBoundedValueAt(a);if("circular"==i.orientation){var s=i.angleExtent,r=Math.atan2(a-this.cy,t-this.cx),o=n?180-(e.Math.radsToDegrees(r)-i.startAngle):e.Math.radsToDegrees(r)-(360-i.startAngle),l=(o=(o+720)%360)/s,h=i.min,c=i.max,g=l*(c-h)+h;return o>s&&(g=(o-s)/(360-s)>.5?0:c),g}},t.DialGauge=_,t.LedGauge=y,t.RatingGauge=A,t.StatusMeterGauge=E,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojgauge-toolkit.js.map