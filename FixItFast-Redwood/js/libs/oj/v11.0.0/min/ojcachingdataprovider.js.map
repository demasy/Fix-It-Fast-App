{"version":3,"sources":["../debug/ojcachingdataprovider.js"],"names":["define","Logger","AsyncIteratorWrapper","[object Object]","asyncIterator","cache","cacheEntries","this","promise","next","then","result","value","start","data","length","end","concat","metadata","done","push","miss","status","CacheStatus","READY","AsyncIterableWrapper","asyncIterable","Symbol","CacheEvictionStrategy","FetchDirection","dataProvider","options","strategy","NEVER","prefetching","currentStart","CACHE_MISS_THRESHOLD","startIndex","cacheQueue","modelEventHandler","_handleModelEvent","bind","addEventListener","removeEventListener","params","_resetCache","fetchFirst","fetchByKeys","containsKeys","undefined","proximity","size","direction","UP","offset","DOWN","_isInCache","info","forEach","cacheInfo","FETCHING","_log","fetchByOffsetPromise","Promise","resolve","reject","fetchByOffset","i","results","item","_getFetchByOffsetResult","fetchParameters","_recalibrateCache","_updateCacheEntries","PURGED","relStart","relEnd","getTotalSize","isEmpty","capabilityName","getCapability","eventType","listener","event","dispatchEvent","type","_handleRowsRefreshed","detail","add","_handleRowsAdded","remove","_handleRowsRemoved","update","_handleRowsUpdated","_dumpCacheStatus","entry","_prefetchRange","success","keyField","callback1","callback2","indexes","index","_handleRowsMutated","splice","Math","max","msg","_getStatusText"],"mappings":"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"}